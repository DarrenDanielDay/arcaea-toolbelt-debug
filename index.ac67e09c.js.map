{"mappings":"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","sources":["node_modules/sheetly/index.js","src/view/styles/index.ts","src/view/styles/bootstrap.part.css.js","src/view/styles/title.css.js","src/view/styles/theme.css.js","src/view/styles/view-transition.css.js","node_modules/tslib/tslib.es6.mjs","node_modules/classic-di/dist/index.browser.esm.min.js","src/services/declarations.ts","src/services/chart-data.ts","src/models/music-play.ts","src/utils/string.ts","src/utils/collections.ts","src/services/music-play.ts","src/services/player-profile.ts","src/utils/read-file.ts","src/view/components/fancy-dialog/index.tsx","src/view/components/fancy-dialog/style.css.js","src/utils/time.ts","src/utils/math.ts","src/utils/indexed-db.ts","src/utils/misc.ts","node_modules/@parcel/runtime-js/lib/runtime-dd2e4006974146c6.js","node_modules/@parcel/runtime-js/lib/helpers/browser/esm-js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-58d4d1bb75dbd033.js","node_modules/@parcel/runtime-js/lib/runtime-2043e8402bf46629.js","src/models/character.ts","src/models/data.ts","src/services/assets-resolver.ts","src/services/preference.ts","src/utils/theme.ts","src/services/database.ts","src/services/gateway.ts","src/utils/memory-cache.ts","src/services/core-data.ts","src/data/file-list.ts","src/services/core-data-provider.ts"],"sourcesContent":["/**\n * @license sheetly\n * Copyright (C) 2023  DarrenDanielDay <Darren_Daniel_Day@hotmail.com>\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * Create a CSSStyleSheet.\n * @param code the css code\n * @param baseURL optional base url if you want to use `url()` in it\n * @returns a created style sheet\n */\nexport const create = (code, baseURL) => {\n    const sheet = new CSSStyleSheet({ baseURL });\n    sheet.replaceSync(code);\n    return sheet;\n};\n/**\n * Add a CSSStyleSheet to the given document.\n * @param sheet the CSSStyleSheet object or a list of them\n * @param doc the document or shadow root\n */\nexport const addSheet = (sheet, doc = document) => {\n    doc.adoptedStyleSheets = doc.adoptedStyleSheets.concat(sheet);\n};\n/**\n * Create style sheet with `String.raw`, just for css syntax highlight with some editors.\n * `baseURL` will always be undefined.\n * @param template A well-formed template string call site representation.\n * @param substitutions A set of substitution values.\n * @returns `CSSStyleSheet` created with template string\n */\nexport const css = (templates, ...substitutions) => create(String.raw(templates, ...substitutions));\n","import { create } from \"sheetly\";\r\nimport { text } from \"./bootstrap.part.css.js\";\r\nexport { sheet as title } from \"./title.css.js\";\r\nexport { sheet as theme } from \"./theme.css.js\";\r\nexport { sheet as bootstrap } from \"./bootstrap.part.css.js\";\r\nexport { sheet as viewTransition } from \"./view-transition.css.js\";\r\n\r\nexport const bootstrapLocal = create(text.replaceAll(\":root\", \":host\"), \"\");\r\n","import { create } from \"sheetly\";\nexport let text = \"@charset \\\"UTF-8\\\";/*!\\r\\n * Bootstrap  v5.3.0-alpha3 (https://getbootstrap.com/)\\r\\n * Copyright 2011-2023 The Bootstrap Authors\\r\\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\\r\\n */:root,[data-bs-theme=light]{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-black:#000;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-primary-text-emphasis:#052c65;--bs-secondary-text-emphasis:#2b2f32;--bs-success-text-emphasis:#0a3622;--bs-info-text-emphasis:#055160;--bs-warning-text-emphasis:#664d03;--bs-danger-text-emphasis:#58151c;--bs-light-text-emphasis:#495057;--bs-dark-text-emphasis:#495057;--bs-primary-bg-subtle:#cfe2ff;--bs-secondary-bg-subtle:#e2e3e5;--bs-success-bg-subtle:#d1e7dd;--bs-info-bg-subtle:#cff4fc;--bs-warning-bg-subtle:#fff3cd;--bs-danger-bg-subtle:#f8d7da;--bs-light-bg-subtle:#fcfcfd;--bs-dark-bg-subtle:#ced4da;--bs-primary-border-subtle:#9ec5fe;--bs-secondary-border-subtle:#c4c8cb;--bs-success-border-subtle:#a3cfbb;--bs-info-border-subtle:#9eeaf9;--bs-warning-border-subtle:#ffe69c;--bs-danger-border-subtle:#f1aeb5;--bs-light-border-subtle:#e9ecef;--bs-dark-border-subtle:#adb5bd;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-font-sans-serif:system-ui,-apple-system,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",\\\"Noto Sans\\\",\\\"Liberation Sans\\\",Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\",\\\"Segoe UI Symbol\\\",\\\"Noto Color Emoji\\\";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,\\\"Liberation Mono\\\",\\\"Courier New\\\",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-color-rgb:33,37,41;--bs-body-bg:#fff;--bs-body-bg-rgb:255,255,255;--bs-emphasis-color:#000;--bs-emphasis-color-rgb:0,0,0;--bs-secondary-color:rgba(33, 37, 41, 0.75);--bs-secondary-color-rgb:33,37,41;--bs-secondary-bg:#e9ecef;--bs-secondary-bg-rgb:233,236,239;--bs-tertiary-color:rgba(33, 37, 41, 0.5);--bs-tertiary-color-rgb:33,37,41;--bs-tertiary-bg:#f8f9fa;--bs-tertiary-bg-rgb:248,249,250;--bs-link-color:#0d6efd;--bs-link-color-rgb:13,110,253;--bs-link-decoration:underline;--bs-link-hover-color:#0a58ca;--bs-link-hover-color-rgb:10,88,202;--bs-code-color:#d63384;--bs-highlight-bg:#fff3cd;--bs-border-width:1px;--bs-border-style:solid;--bs-border-color:#dee2e6;--bs-border-color-translucent:rgba(0, 0, 0, 0.175);--bs-border-radius:0.375rem;--bs-border-radius-sm:0.25rem;--bs-border-radius-lg:0.5rem;--bs-border-radius-xl:1rem;--bs-border-radius-xxl:2rem;--bs-border-radius-2xl:var(--bs-border-radius-xxl);--bs-border-radius-pill:50rem;--bs-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-box-shadow-sm:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-box-shadow-lg:0 1rem 3rem rgba(0, 0, 0, 0.175);--bs-box-shadow-inset:inset 0 1px 2px rgba(0, 0, 0, 0.075);--bs-focus-ring-width:0.25rem;--bs-focus-ring-opacity:0.25;--bs-focus-ring-color:rgba(13, 110, 253, 0.25);--bs-form-valid-color:#198754;--bs-form-valid-border-color:#198754;--bs-form-invalid-color:#dc3545;--bs-form-invalid-border-color:#dc3545}[data-bs-theme=dark]{color-scheme:dark;--bs-body-color:#adb5bd;--bs-body-color-rgb:173,181,189;--bs-body-bg:#212529;--bs-body-bg-rgb:33,37,41;--bs-emphasis-color:#fff;--bs-emphasis-color-rgb:255,255,255;--bs-secondary-color:rgba(173, 181, 189, 0.75);--bs-secondary-color-rgb:173,181,189;--bs-secondary-bg:#343a40;--bs-secondary-bg-rgb:52,58,64;--bs-tertiary-color:rgba(173, 181, 189, 0.5);--bs-tertiary-color-rgb:173,181,189;--bs-tertiary-bg:#2b3035;--bs-tertiary-bg-rgb:43,48,53;--bs-primary-text-emphasis:#6ea8fe;--bs-secondary-text-emphasis:#a7acb1;--bs-success-text-emphasis:#75b798;--bs-info-text-emphasis:#6edff6;--bs-warning-text-emphasis:#ffda6a;--bs-danger-text-emphasis:#ea868f;--bs-light-text-emphasis:#f8f9fa;--bs-dark-text-emphasis:#dee2e6;--bs-primary-bg-subtle:#031633;--bs-secondary-bg-subtle:#161719;--bs-success-bg-subtle:#051b11;--bs-info-bg-subtle:#032830;--bs-warning-bg-subtle:#332701;--bs-danger-bg-subtle:#2c0b0e;--bs-light-bg-subtle:#343a40;--bs-dark-bg-subtle:#1a1d20;--bs-primary-border-subtle:#084298;--bs-secondary-border-subtle:#41464b;--bs-success-border-subtle:#0f5132;--bs-info-border-subtle:#087990;--bs-warning-border-subtle:#997404;--bs-danger-border-subtle:#842029;--bs-light-border-subtle:#495057;--bs-dark-border-subtle:#343a40;--bs-link-color:#6ea8fe;--bs-link-hover-color:#8bb9fe;--bs-link-color-rgb:110,168,254;--bs-link-hover-color-rgb:139,185,254;--bs-code-color:#e685b5;--bs-border-color:#495057;--bs-border-color-translucent:rgba(255, 255, 255, 0.15);--bs-form-valid-color:#75b798;--bs-form-valid-border-color:#75b798;--bs-form-invalid-color:#ea868f;--bs-form-invalid-border-color:#ea868f}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;border:0;border-top:var(--bs-border-width) solid;opacity:.25}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2;color:var(--bs-heading-color,inherit)}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.1875em;background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,1));text-decoration:underline}a:hover{--bs-link-color-rgb:var(--bs-link-hover-color-rgb)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-secondary-color);text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not(\\r[type=time]\\r)::-webkit-calendar-picker-indicator{display:none!important}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.figure{display:inline-block}.container,.container-fluid{--bs-gutter-x:1.5rem;--bs-gutter-y:0;width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}@media (min-width:1400px){.container{max-width:1320px}}:root{--bs-breakpoint-xs:0;--bs-breakpoint-sm:576px;--bs-breakpoint-md:768px;--bs-breakpoint-lg:992px;--bs-breakpoint-xl:1200px;--bs-breakpoint-xxl:1400px}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-4{flex:0 0 auto;width:33.33333333%}.col-10{flex:0 0 auto;width:83.33333333%}.table{--bs-table-color:var(--bs-body-color);--bs-table-bg:transparent;--bs-table-border-color:var(--bs-border-color);--bs-table-accent-bg:transparent;--bs-table-striped-color:var(--bs-body-color);--bs-table-striped-bg:rgba(0, 0, 0, 0.05);--bs-table-active-color:var(--bs-body-color);--bs-table-active-bg:rgba(0, 0, 0, 0.1);--bs-table-hover-color:var(--bs-body-color);--bs-table-hover-bg:rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:var(--bs-table-color);vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:var(--bs-border-width);box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + var(--bs-border-width));padding-bottom:calc(.375rem + var(--bs-border-width));margin-bottom:0;font-size:inherit;line-height:1.5}.form-text{margin-top:.25rem;font-size:.875em;color:var(--bs-secondary-color)}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:var(--bs-body-color);background-color:var(--bs-body-bg);border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{min-width:85px;height:1.5em;margin:0}.form-control::-webkit-datetime-edit{display:block;padding:0}.form-control::-moz-placeholder{color:var(--bs-secondary-color);opacity:1}.form-control::placeholder{color:var(--bs-secondary-color);opacity:1}.form-control:disabled{background-color:var(--bs-secondary-bg);opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:var(--bs-secondary-bg)}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:var(--bs-secondary-bg)}textarea.form-control{min-height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2))}.form-select{--bs-form-select-bg-img:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e\\\");display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);background-color:var(--bs-body-bg);background-image:var(--bs-form-select-bg-img),var(--bs-form-select-bg-icon,none);background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size=\\\"1\\\"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:var(--bs-secondary-bg)}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 var(--bs-body-color)}[data-bs-theme=dark] .form-select{--bs-form-select-bg-img:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23adb5bd' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e\\\")}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-input{--bs-form-check-bg:var(--bs-body-bg);width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{--bs-form-check-bg-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e\\\")}.form-check-input:checked[type=radio]{--bs-form-check-bg-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\\\")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;--bs-form-check-bg-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e\\\")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{--bs-form-switch-bg:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\\\");width:2em;margin-left:-2.5em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{--bs-form-switch-bg:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e\\\")}.form-switch .form-check-input:checked{background-position:right center;--bs-form-switch-bg:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\\\")}[data-bs-theme=dark] .form-switch .form-check-input:not(:checked):not(:focus){--bs-form-switch-bg:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%28255, 255, 255, 0.25%29'/%3e%3c/svg%3e\\\")}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-select:focus{z-index:5}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:5}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);text-align:center;white-space:nowrap;background-color:var(--bs-tertiary-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius)}.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(\\r.invalid-feedback\\r){margin-left:calc(var(--bs-border-width) * -1);border-top-left-radius:0;border-bottom-left-radius:0}.btn{--bs-btn-padding-x:0.75rem;--bs-btn-padding-y:0.375rem;--bs-btn-font-family: ;--bs-btn-font-size:1rem;--bs-btn-font-weight:400;--bs-btn-line-height:1.5;--bs-btn-color:var(--bs-body-color);--bs-btn-bg:transparent;--bs-btn-border-width:var(--bs-border-width);--bs-btn-border-color:transparent;--bs-btn-border-radius:var(--bs-border-radius);--bs-btn-hover-border-color:transparent;--bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);--bs-btn-disabled-opacity:0.65;--bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), 0.5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn:focus-visible{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn.active,.btn.show,.btn:first-child:active,:not(.btn-check)+.btn:active{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn.active:focus-visible,.btn.show:focus-visible,.btn:first-child:active:focus-visible,:not(.btn-check)+.btn:active:focus-visible{box-shadow:var(--bs-btn-focus-box-shadow)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color:#fff;--bs-btn-bg:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0b5ed7;--bs-btn-hover-border-color:#0a58ca;--bs-btn-focus-shadow-rgb:49,132,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0a58ca;--bs-btn-active-border-color:#0a53be;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#0d6efd;--bs-btn-disabled-border-color:#0d6efd}.btn-secondary{--bs-btn-color:#fff;--bs-btn-bg:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#5c636a;--bs-btn-hover-border-color:#565e64;--bs-btn-focus-shadow-rgb:130,138,145;--bs-btn-active-color:#fff;--bs-btn-active-bg:#565e64;--bs-btn-active-border-color:#51585e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#6c757d;--bs-btn-disabled-border-color:#6c757d}.btn-danger{--bs-btn-color:#fff;--bs-btn-bg:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#bb2d3b;--bs-btn-hover-border-color:#b02a37;--bs-btn-focus-shadow-rgb:225,83,97;--bs-btn-active-color:#fff;--bs-btn-active-bg:#b02a37;--bs-btn-active-border-color:#a52834;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#dc3545;--bs-btn-disabled-border-color:#dc3545}.btn-outline-secondary{--bs-btn-color:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#6c757d;--bs-btn-hover-border-color:#6c757d;--bs-btn-focus-shadow-rgb:108,117,125;--bs-btn-active-color:#fff;--bs-btn-active-bg:#6c757d;--bs-btn-active-border-color:#6c757d;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#6c757d;--bs-gradient:none}.btn-outline-danger{--bs-btn-color:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#dc3545;--bs-btn-hover-border-color:#dc3545;--bs-btn-focus-shadow-rgb:220,53,69;--bs-btn-active-color:#fff;--bs-btn-active-bg:#dc3545;--bs-btn-active-border-color:#dc3545;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#dc3545;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#dc3545;--bs-gradient:none}.btn-link{--bs-btn-font-weight:400;--bs-btn-color:var(--bs-link-color);--bs-btn-bg:transparent;--bs-btn-border-color:transparent;--bs-btn-hover-color:var(--bs-link-hover-color);--bs-btn-hover-border-color:transparent;--bs-btn-active-color:var(--bs-link-hover-color);--bs-btn-active-border-color:transparent;--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-border-color:transparent;--bs-btn-box-shadow:0 0 0 #000;--bs-btn-focus-shadow-rgb:49,132,253;text-decoration:underline}.btn-link:focus-visible{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.dropdown{position:relative}.nav{--bs-nav-link-padding-x:1rem;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-link-color);--bs-nav-link-hover-color:var(--bs-link-hover-color);--bs-nav-link-disabled-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;background:0 0;border:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:var(--bs-nav-link-hover-color)}.nav-link:focus-visible{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.nav-link.disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.navbar{--bs-navbar-padding-x:0;--bs-navbar-padding-y:0.5rem;--bs-navbar-color:rgba(var(--bs-emphasis-color-rgb), 0.65);--bs-navbar-hover-color:rgba(var(--bs-emphasis-color-rgb), 0.8);--bs-navbar-disabled-color:rgba(var(--bs-emphasis-color-rgb), 0.3);--bs-navbar-active-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-padding-y:0.3125rem;--bs-navbar-brand-margin-end:1rem;--bs-navbar-brand-font-size:1.25rem;--bs-navbar-brand-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-hover-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-nav-link-padding-x:0.5rem;--bs-navbar-toggler-padding-y:0.25rem;--bs-navbar-toggler-padding-x:0.75rem;--bs-navbar-toggler-font-size:1.25rem;--bs-navbar-toggler-icon-bg:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2833, 37, 41, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\\\");--bs-navbar-toggler-border-color:rgba(var(--bs-emphasis-color-rgb), 0.15);--bs-navbar-toggler-border-radius:var(--bs-border-radius);--bs-navbar-toggler-focus-width:0.25rem;--bs-navbar-toggler-transition:box-shadow 0.15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x:0;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-navbar-color);--bs-nav-link-hover-color:var(--bs-navbar-hover-color);--bs-nav-link-disabled-color:var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link.active,.navbar-nav .nav-link.show{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}}[data-bs-theme=dark] .navbar-toggler-icon{--bs-navbar-toggler-icon-bg:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\\\")}.card{--bs-card-spacer-y:1rem;--bs-card-spacer-x:1rem;--bs-card-title-spacer-y:0.5rem;--bs-card-title-color: ;--bs-card-subtitle-color: ;--bs-card-border-width:var(--bs-border-width);--bs-card-border-color:var(--bs-border-color-translucent);--bs-card-border-radius:var(--bs-border-radius);--bs-card-box-shadow: ;--bs-card-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-card-cap-padding-y:0.5rem;--bs-card-cap-padding-x:1rem;--bs-card-cap-bg:rgba(var(--bs-body-color-rgb), 0.03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg:var(--bs-body-bg);--bs-card-img-overlay-padding:1rem;--bs-card-group-margin:0.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);color:var(--bs-body-color);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.accordion{--bs-accordion-color:var(--bs-body-color);--bs-accordion-bg:var(--bs-body-bg);--bs-accordion-transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,border-radius 0.15s ease;--bs-accordion-border-color:var(--bs-border-color);--bs-accordion-border-width:var(--bs-border-width);--bs-accordion-border-radius:var(--bs-border-radius);--bs-accordion-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:1rem;--bs-accordion-btn-color:var(--bs-body-color);--bs-accordion-btn-bg:var(--bs-accordion-bg);--bs-accordion-btn-icon:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\\\");--bs-accordion-btn-icon-width:1.25rem;--bs-accordion-btn-icon-transform:rotate(-180deg);--bs-accordion-btn-icon-transition:transform 0.2s ease-in-out;--bs-accordion-btn-active-icon:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23052c65'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\\\");--bs-accordion-btn-focus-border-color:#86b7fe;--bs-accordion-btn-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-accordion-body-padding-x:1.25rem;--bs-accordion-body-padding-y:1rem;--bs-accordion-active-color:var(--bs-primary-text-emphasis);--bs-accordion-active-bg:var(--bs-primary-bg-subtle)}.badge{--bs-badge-padding-x:0.65em;--bs-badge-padding-y:0.35em;--bs-badge-font-size:0.75em;--bs-badge-font-weight:700;--bs-badge-color:#fff;--bs-badge-border-radius:var(--bs-border-radius);display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg:transparent;--bs-alert-padding-x:1rem;--bs-alert-padding-y:1rem;--bs-alert-margin-bottom:1rem;--bs-alert-color:inherit;--bs-alert-border-color:transparent;--bs-alert-border:var(--bs-border-width) solid var(--bs-alert-border-color);--bs-alert-border-radius:var(--bs-border-radius);--bs-alert-link-color:inherit;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{--bs-progress-height:1rem;--bs-progress-font-size:0.75rem;--bs-progress-bg:var(--bs-secondary-bg);--bs-progress-border-radius:var(--bs-border-radius);--bs-progress-box-shadow:var(--bs-box-shadow-inset);--bs-progress-bar-color:#fff;--bs-progress-bar-bg:#0d6efd;--bs-progress-bar-transition:width 0.6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.toast{--bs-toast-zindex:1090;--bs-toast-padding-x:0.75rem;--bs-toast-padding-y:0.5rem;--bs-toast-spacing:1.5rem;--bs-toast-max-width:350px;--bs-toast-font-size:0.875rem;--bs-toast-color: ;--bs-toast-bg:rgba(var(--bs-body-bg-rgb), 0.85);--bs-toast-border-width:var(--bs-border-width);--bs-toast-border-color:var(--bs-border-color-translucent);--bs-toast-border-radius:var(--bs-border-radius);--bs-toast-box-shadow:var(--bs-box-shadow);--bs-toast-header-color:var(--bs-secondary-color);--bs-toast-header-bg:rgba(var(--bs-body-bg-rgb), 0.85);--bs-toast-header-border-color:var(--bs-border-color-translucent);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.modal{--bs-modal-zindex:1055;--bs-modal-width:500px;--bs-modal-padding:1rem;--bs-modal-margin:0.5rem;--bs-modal-color: ;--bs-modal-bg:var(--bs-body-bg);--bs-modal-border-color:var(--bs-border-color-translucent);--bs-modal-border-width:var(--bs-border-width);--bs-modal-border-radius:var(--bs-border-radius-lg);--bs-modal-box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-modal-inner-border-radius:calc(var(--bs-border-radius-lg) - (var(--bs-border-width)));--bs-modal-header-padding-x:1rem;--bs-modal-header-padding-y:1rem;--bs-modal-header-padding:1rem 1rem;--bs-modal-header-border-color:var(--bs-border-color);--bs-modal-header-border-width:var(--bs-border-width);--bs-modal-title-line-height:1.5;--bs-modal-footer-gap:0.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color:var(--bs-border-color);--bs-modal-footer-border-width:var(--bs-border-width);position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex:1050;--bs-backdrop-bg:#000;--bs-backdrop-opacity:0.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap) * .5)}@media (min-width:576px){.modal{--bs-modal-margin:1.75rem;--bs-modal-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15)}}.tooltip{--bs-tooltip-zindex:1080;--bs-tooltip-max-width:200px;--bs-tooltip-padding-x:0.5rem;--bs-tooltip-padding-y:0.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:0.875rem;--bs-tooltip-color:var(--bs-body-bg);--bs-tooltip-bg:var(--bs-emphasis-color);--bs-tooltip-border-radius:var(--bs-border-radius);--bs-tooltip-opacity:0.9;--bs-tooltip-arrow-width:0.8rem;--bs-tooltip-arrow-height:0.4rem;z-index:var(--bs-tooltip-zindex);display:block;margin:var(--bs-tooltip-margin);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow::before{position:absolute;content:\\\"\\\";border-color:transparent;border-style:solid}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex:1070;--bs-popover-max-width:276px;--bs-popover-font-size:0.875rem;--bs-popover-bg:var(--bs-body-bg);--bs-popover-border-width:var(--bs-border-width);--bs-popover-border-color:var(--bs-border-color-translucent);--bs-popover-border-radius:var(--bs-border-radius-lg);--bs-popover-inner-border-radius:calc(var(--bs-border-radius-lg) - var(--bs-border-width));--bs-popover-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-popover-header-padding-x:1rem;--bs-popover-header-padding-y:0.5rem;--bs-popover-header-font-size:1rem;--bs-popover-header-color: ;--bs-popover-header-bg:var(--bs-secondary-bg);--bs-popover-body-padding-x:1rem;--bs-popover-body-padding-y:1rem;--bs-popover-body-color:var(--bs-body-color);--bs-popover-arrow-width:1rem;--bs-popover-arrow-height:0.5rem;--bs-popover-arrow-border:var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.carousel{position:relative}@keyframes spinner-border{to{transform:rotate(360deg)}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.offcanvas{--bs-offcanvas-zindex:1045;--bs-offcanvas-width:400px;--bs-offcanvas-height:30vh;--bs-offcanvas-padding-x:1rem;--bs-offcanvas-padding-y:1rem;--bs-offcanvas-color:var(--bs-body-color);--bs-offcanvas-bg:var(--bs-body-bg);--bs-offcanvas-border-width:var(--bs-border-width);--bs-offcanvas-border-color:var(--bs-border-color-translucent);--bs-offcanvas-box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-offcanvas-transition:transform 0.3s ease-in-out;--bs-offcanvas-title-line-height:1.5}.offcanvas{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas.show:not(.hiding),.offcanvas.showing{transform:none}.offcanvas.hiding,.offcanvas.show,.offcanvas.showing{visibility:visible}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn::before{display:inline-block;content:\\\"\\\"}@keyframes placeholder-glow{50%{opacity:.2}}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:\\\"\\\"}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.align-text-top{vertical-align:text-top!important}.d-inline-block{display:inline-block!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.flex-wrap{flex-wrap:wrap!important}.m-3{margin:1rem!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.me-2{margin-right:.5rem!important}.me-auto{margin-right:auto!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.p-3{padding:1rem!important}.bg-body-tertiary{--bs-bg-opacity:1;background-color:rgba(var(--bs-tertiary-bg-rgb),var(--bs-bg-opacity))!important}.rounded{border-radius:var(--bs-border-radius)!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:992px){.d-lg-none{display:none!important}.mb-lg-0{margin-bottom:0!important}}\";\nexport const sheet = create(text, import.meta.url);\n","import { create } from \"sheetly\";\nexport let text = \".title{margin:.5em 1em;padding:.5em 1em;border-bottom:1px var(--bs-border-color) solid}.title::before{display:block;content:\\\" \\\";position:absolute;left:1.25em;width:.125em;height:1.4em;background-color:var(--bs-primary)}\";\nexport const sheet = create(text, import.meta.url);\n","import { create } from \"sheetly\";\nexport let text = \":root[data-theme=light]{--pst-border:none;--prs-border:none;--ftr-border:none;--byd-border:none}:root[data-theme=dark]{--pst-border:4px solid var(--pst-border-color);--prs-border:4px solid var(--prs-border-color);--ftr-border:4px solid var(--ftr-border-color);--byd-border:4px solid var(--byd-border-color)}\";\nexport const sheet = create(text, import.meta.url);\n","import { create } from \"sheetly\";\nexport let text = \"\";\nexport const sheet = create(text, import.meta.url);\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","const e=(e,t)=>({type:\"token\",key:Symbol(e),default:t}),t=Symbol.for(\"classic-di-metadata\"),n=e=>(n,s)=>{const o=s.metadata;if(!o)throw new Error('`metadata` not found in decorator context. Forgot to polyfill \"Symbol.metadata\"?');o[t]=e};var s,o;!function(e){e[e.Create=0]=\"Create\",e[e.Instance=1]=\"Instance\",e[e.Reference=2]=\"Reference\"}(s||(s={})),function(e){e[e.Resolving=1]=\"Resolving\",e[e.Resolved=2]=\"Resolved\"}(o||(o={}));class r{#e=new Map;#t=new Map;#n;name;constructor(e){this.#n=e?.parent,this.name=e?.name}add(e,t){const n=e.key;if(this.#t.has(n))throw new Error(`Instance of ${n.description} already exist.`);this.#t.set(n,t)}register(e){const t=this.#s(e);if(!t)throw new Error(`No metadata found on ${e.name}.  Forgot to decorate with \"Injectable\" or polyfill \"Symbol.metadata\"?`);const n=t.implements;if(!n)throw new Error(\"Implementation token is required.\");const{key:s}=n;if(this.#e.has(s))throw new Error(`Cannot register \"${s.description}\" twice.`);this.#e.set(s,e)}resolve(e){const t=new Map,n=this.#o(e);if(n.type===s.Instance)return{circular:!1,path:[n]};{const{token:e}=n;e&&t.set(e.key,{state:o.Resolving,index:0,node:n})}const r=[{node:n,index:-1}],a=[];for(let e=r.at(-1);e;e=r.at(-1)){const{node:n}=e,i=++e.index,{deps:c,token:l}=n;if(i===c.length)a.push(n),r.pop(),l&&t.set(l.key,{state:o.Resolved,node:n});else{const e=c[i],{key:n}=e,d=t.get(n);if(d){if(d.state===o.Resolving){const e=r.map((e=>e.node));return e.push(d.node),{circular:!0,begin:d.index,path:e}}a.push({type:s.Reference,owner:this,token:l,node:d.node});continue}const h=this.#r(e);h.type===s.Instance?a.push(h):(t.set(n,{state:o.Resolving,index:r.length,node:h}),r.push({node:h,index:-1}))}}return{circular:!1,path:a}}create(e){const t=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(o.type===s.Instance)t.push(o.instance);else if(o.type===s.Create){const{ctor:e,deps:{length:n},owner:s,token:r}=o,a=t.slice(t.length-n),i=s.createInstance(e,a);r&&s.#t.set(r.key,i),t.length-=n,t.push(i),o.instance=i}else o.type===s.Reference&&t.push(o.node.instance)}return t[0]}get(e){return this.#a(e)}consume(e){return this.#a(e)}createInstance(e,t){return Reflect.construct(e,t)}#s(e){return e[Symbol.metadata]?.[t]}#o(e){if(\"function\"==typeof e){const t=this.#s(e);if(!t)throw new Error(`Injectable metadata not found on \"${e.name}\".`);const{implements:n}=t;return n&&this.#e.get(n.key)===e?this.#r(n):{type:s.Create,owner:this,token:null,ctor:e,deps:t.requires??[]}}return this.#r(e)}#r(e){const{key:t}=e,n=this.#t.get(t);if(n)return{type:s.Instance,token:e,owner:this,instance:n};const o=this.#e.get(t);if(o)return{type:s.Create,token:e,owner:this,ctor:o,deps:this.#s(o).requires??[]};const r=e.default;if(r)return{type:s.Instance,token:e,owner:this,instance:r};const a=this.#n;if(!a)throw new Error(`Cannot resolve \"${t.description}\".`);return a.#r(e)}#a(e){const t=this.resolve(e);if(t.circular)throw new a(t);return this.create(t.path)}}class a extends Error{resolution;constructor(e){super(`Circular dependency: ${e.path.map(((t,n)=>{const s=t.token?.key.description;return`${n===e.begin?\"{{ \":\"\"}[${s?`<${s}> `:\"\"}${t.ctor.name}]`})).join(\" -> \")} }}`),this.resolution=e}}export{t as $metadata,a as CircularDependencyError,r as Container,n as Injectable,s as ResolveNodeType,e as token};\n","import * as lowiro from \"./web-api\";\r\nimport {\r\n  Chart,\r\n  ClearRank,\r\n  Difficulty,\r\n  Grade,\r\n  NoteResult,\r\n  PartnerClearRank,\r\n  PlayResult,\r\n  Rating,\r\n  ScoreResult,\r\n  Song,\r\n  SongData,\r\n  SongIndex,\r\n} from \"../models/music-play\";\r\nimport { B30Response, BestResultItem, Profile, ProfileUpdatePayload } from \"../models/profile\";\r\nimport { token } from \"classic-di\";\r\nimport {\r\n  Chapter,\r\n  ChapterData,\r\n  CurrentProgress,\r\n  ItemData,\r\n  NormalWorldMap,\r\n  NormalWorldMapData,\r\n  RewardType,\r\n} from \"../models/world-mode\";\r\nimport type { Signal } from \"hyplate/types\";\r\nimport { CharacterData, CharacterImage, CharacterIndex } from \"../models/character\";\r\nimport { PromiseOr } from \"../utils/misc\";\r\nimport { ArcaeaToolbeltMeta } from \"../models/misc\";\r\nimport { UploadedFile } from \"../models/file\";\r\n\r\nexport interface DatabaseContext {\r\n  getDB(): Promise<IDBDatabase>;\r\n  transaction(stores: string[], mode?: IDBTransactionMode): Promise<IDBTransaction>;\r\n  objectStore(store: string, mode?: IDBTransactionMode): Promise<IDBObjectStore>;\r\n}\r\n\r\nexport interface CacheDBContext extends DatabaseContext {\r\n  readonly caches: string;\r\n}\r\n\r\nexport interface AppDatabaseContext extends CacheDBContext {\r\n  readonly preference: string;\r\n  readonly profiles: string;\r\n  readonly core: string;\r\n  readonly files: string;\r\n}\r\n\r\nexport type ColorTheme = \"dark\" | \"light\";\r\n\r\nexport interface Preference {\r\n  theme: ColorTheme;\r\n  ghproxy: boolean;\r\n  /**\r\n   * PP\r\n   */\r\n  showMaxMinus: boolean;\r\n}\r\n\r\nexport interface PreferenceService {\r\n  get(): Promise<Preference>;\r\n  update(patch: Partial<Preference>): Promise<void>;\r\n  signal<K extends keyof Preference>(name: K): Signal<Preference[K]>;\r\n}\r\n\r\nexport interface FileStorageService {\r\n  createURL(site: URL, path: string): URL;\r\n  upload(file: Blob, path: URL): Promise<void>;\r\n  list(path: URL): Promise<URL[]>;\r\n  read(path: URL): Promise<UploadedFile | null>;\r\n}\r\n\r\nexport interface Gateway {\r\n  /**\r\n   * URL\r\n   * @param url URL\r\n   */\r\n  direct(url: URL): URL;\r\n  /**\r\n   * \r\n   * @param url\r\n   */\r\n  proxy(url: URL): URL;\r\n  /**\r\n   * \r\n   * @param url\r\n   */\r\n  dynamicProxy(url: URL): PromiseOr<URL>;\r\n}\r\n\r\nexport interface CoreDataService {\r\n  getSongList(): Promise<any>;\r\n  getPackList(): Promise<any>;\r\n  getMetaData(): Promise<ArcaeaToolbeltMeta>;\r\n  getChartData(): Promise<SongData[]>;\r\n  getCharacterData(): Promise<CharacterData[]>;\r\n  getItemsData(): Promise<ItemData[]>;\r\n  getWorldMapLongTerm(): Promise<ChapterData[]>;\r\n  getWorldMapEvents(): Promise<NormalWorldMapData[]>;\r\n}\r\n\r\nexport interface CoreDataProvider {\r\n  get<T>(path: string): Promise<T>;\r\n}\r\n\r\nexport interface AssetsResolver {\r\n  resolve(path: string): URL;\r\n  resoveCharacterImage(image: CharacterImage): URL;\r\n  resolvePotentialBadge(rating: number): URL;\r\n  resolveCover(chart: Chart, song: Song, hd: boolean): URL;\r\n  resolveUnknownCover(): URL;\r\n  resolveClearImg(clearType: ClearRank): URL;\r\n  resolveGradeImg(scoreRank: Grade): URL;\r\n}\r\n\r\nexport interface AssetsService {\r\n  /**\r\n   * @param url \r\n   * @param init AbortSignal\r\n   * @returns /blob url\r\n   */\r\n  getAssets(url: URL, init?: RequestInit): PromiseOr<string>;\r\n}\r\n\r\nexport interface ImageMemoryCache {\r\n  blobURL: string;\r\n  blob: Blob;\r\n}\r\n\r\n/**\r\n * CachedHttpClient\r\n */\r\nexport interface AssetsCacheService {\r\n  cachedGet(url: URL, init?: RequestInit): Promise<ImageMemoryCache>;\r\n  cacheUsage(): Promise<number>;\r\n  clearCache(): Promise<void>;\r\n}\r\n\r\nexport interface SearchResult {\r\n  chart: Chart;\r\n  song: Song;\r\n  bpm: string;\r\n  sort: number;\r\n  title: string;\r\n  cover: string;\r\n  constant: number;\r\n  difficulty: Difficulty;\r\n}\r\n\r\nexport interface DifficultyStatistics {\r\n  /**\r\n   * \r\n   */\r\n  count: number;\r\n  /**\r\n   * \r\n   */\r\n  notes: number;\r\n}\r\n\r\nexport type ChartDifficultyStatistics = Record<Difficulty, DifficultyStatistics>;\r\n\r\nexport interface ChartStatistics {\r\n  difficulties: ChartDifficultyStatistics;\r\n  ratings: Rating[];\r\n  maximumConstant: number;\r\n  minimumConstant: number;\r\n}\r\n\r\nexport interface ChartService {\r\n  freePacks: string[];\r\n  getSongData(): Promise<SongData[]>;\r\n  getSongIndex(): Promise<SongIndex>;\r\n  getStatistics(): Promise<ChartStatistics>;\r\n  searchChart(searchText: string): Promise<SearchResult[]>;\r\n  queryChartsByConstant(min: number, max: number): Promise<SearchResult[]>;\r\n  roll(min: number, max: number): Promise<SearchResult | null>;\r\n  getName(chart: Chart, song: Song): string;\r\n  getBPM(chart: Chart, song: Song): string;\r\n  getCover(chart: Chart, song: Song): string;\r\n}\r\n\r\nexport interface CharacterService {\r\n  getCharacterIndex(): Promise<CharacterIndex>;\r\n  getAllCharacters(): Promise<CharacterData[]>;\r\n}\r\n\r\nexport interface MusicPlayStatistics {\r\n  readonly maximumPotential: number;\r\n  readonly maximumSinglePotential: number;\r\n}\r\n\r\nexport interface MusicPlayService {\r\n  readonly ex: number;\r\n  readonly maxBase: number;\r\n  readonly grades: Grade[];\r\n  getStatistics(): Promise<MusicPlayStatistics>;\r\n  inferNoteResult(\r\n    chart: Chart,\r\n    perfect: number | null,\r\n    far: number | null,\r\n    lost: number | null,\r\n    score: number | null\r\n  ): NoteResult | null;\r\n  computeScore(chart: Chart, noteResult: NoteResult): number;\r\n  computePotential(score: number, constant: Chart): number;\r\n  computeGrade(score: number): Grade;\r\n  computeClearRank(play: NoteResult, chart: Chart, clear: PartnerClearRank | null): ClearRank | null;\r\n  computeScoreResult(score: number, chart: Chart): ScoreResult;\r\n  computePMConstant(potential: number, overflow: boolean): number;\r\n  inverseScore(potential: number, constant: number): number;\r\n  inverseConstant(potential: number, score: number, raw?: boolean): number;\r\n  computeFar(score: number, note: number, overflow: boolean): number;\r\n  compareGrade(a: Grade, b: Grade): number;\r\n  getPotentialRating(potential: number): number;\r\n  mapClearType(clearType: number, shinyPerfectCount: number, chart: Chart): ClearRank;\r\n  mapDifficulty(d: Difficulty): number;\r\n}\r\n\r\nexport interface ImportResult {\r\n  count: number;\r\n  difficulties: Record<Difficulty, number>;\r\n  skipped: string[];\r\n}\r\n\r\nexport interface BestStatisticsQuery {\r\n  /**\r\n   * \r\n   */\r\n  rating?: Rating;\r\n  /**\r\n   * \r\n   */\r\n  difficulty?: Difficulty;\r\n}\r\n\r\nexport interface BestStatistics {\r\n  /**\r\n   * \r\n   */\r\n  total: number;\r\n  /**\r\n   * Track Lost\r\n   */\r\n  clear: number;\r\n  /**\r\n   * Full Recall\r\n   */\r\n  fr: number;\r\n  /**\r\n   * Pure Memory\r\n   */\r\n  pm: number;\r\n  /**\r\n   * \r\n   */\r\n  max: number;\r\n  /**\r\n   * EX/1kwPMP\r\n   */\r\n  acc: number;\r\n  /**\r\n   * \r\n   */\r\n  detailed: number;\r\n  /**\r\n   * P\r\n   */\r\n  perfect: number;\r\n  /**\r\n   * P\r\n   */\r\n  great: number;\r\n  /**\r\n   * \r\n   */\r\n  notes: number;\r\n  /**\r\n   * P{@link perfect} / {@link notes}\r\n   */\r\n  pacc: number;\r\n  /**\r\n   * \r\n   */\r\n  rest: number;\r\n}\r\n\r\nexport type ReportProgress = (message: string) => void;\r\n\r\nexport interface B30Options {\r\n  packs: string[];\r\n  filter: (result: BestResultItem) => boolean;\r\n}\r\n\r\nexport interface ProfileService {\r\n  checkMigration(): Promise<null | (() => Promise<void>)>;\r\n  formatPotential(potential: number): string;\r\n  getProfile(): Promise<Profile | null>;\r\n  createOrUpdateProfile(username: string, potential: number): Promise<void>;\r\n  getProfileList(): Promise<string[]>;\r\n  syncProfiles(data: ProfileUpdatePayload[]): Promise<void>;\r\n  importProfile(file: File): Promise<void>;\r\n  importDB(file: File, profile: Profile, report?: ReportProgress): Promise<ImportResult>;\r\n  exportProfile(profile: Profile): Promise<void>;\r\n  useProfile(username: string): Promise<void>;\r\n  addResult(playResult: PlayResult, replace?: boolean): Promise<void>;\r\n  removeResult(chartId: string): Promise<void>;\r\n  deleteProfile(username: string): Promise<void>;\r\n  b30(profile: Profile, options?: Partial<B30Options>): Promise<B30Response>;\r\n  generateMaxProfile(): Promise<Profile>;\r\n  getProfileStatistics(profile: Profile, query?: BestStatisticsQuery): Promise<BestStatistics>;\r\n}\r\n\r\nexport interface MapDistance {\r\n  // progress\r\n  distance: number;\r\n}\r\n\r\nexport interface NextRewardInfo {\r\n  img: string;\r\n  remaining: MapDistance;\r\n}\r\n\r\nexport interface RemainingProgress {\r\n  total: MapDistance;\r\n  nextReward: NextRewardInfo | null;\r\n}\r\n\r\nexport type WorldMapBonus =\r\n  | {\r\n      type: \"legacy\";\r\n      fragment: number;\r\n      stamina: number;\r\n    }\r\n  | {\r\n      type: \"new\";\r\n      x4: boolean;\r\n    };\r\n\r\nexport interface InverseProgressSolution {\r\n  invalidMessage: string | null;\r\n  world: WorldMapBonus | null;\r\n  lowPtt: number;\r\n  highPtt: number;\r\n  pmRange: [number, number] | false;\r\n}\r\n\r\nexport interface WorldModeService {\r\n  getLongtermMaps(): Promise<Chapter[]>;\r\n  getEventMaps(): Promise<NormalWorldMap[]>;\r\n  getMapRewards(map: NormalWorldMap): Partial<Record<RewardType, string[]>>;\r\n  computePlayResult(potential: number): number;\r\n  computeBasicProgress(step: number, potential: number): number;\r\n  computeProgress(step: number, potential: number, bonus: WorldMapBonus | null): number;\r\n  computeProgressRange(\r\n    map: NormalWorldMap,\r\n    currentProgress: CurrentProgress,\r\n    targetLevel: number\r\n  ): [low: number, high: number];\r\n  computeRemainingProgress(map: NormalWorldMap, currentProgress: CurrentProgress): RemainingProgress;\r\n  inversePlayResult(progress: number, step: number): number;\r\n  inverseProgress(step: number, progressRange: [low: number, high: number]): Promise<InverseProgressSolution[]>;\r\n  inverseConstantRange(playResult: number, score: number, step: number, progress: number): [number, number] | null;\r\n  inverseBeyondBoost(difference: number, score: number, raw?: boolean): number;\r\n  inverseCharacterExp(difference: number, score: number, raw?: boolean): number;\r\n  inferConstant(min: number, max: number): number[];\r\n}\r\n\r\nexport interface CrossSiteScriptPluginService {\r\n  getProfile(): Promise<lowiro.UserProfile>;\r\n  startQueryBests(\r\n    profile: lowiro.UserProfile,\r\n    targetPlayers: string[],\r\n    onProgress: (message: string) => void,\r\n    onResult: (profiles: Profile[]) => void,\r\n    onError?: (message: string) => void\r\n  ): AbortController;\r\n  syncProfiles(profiles: Profile[]): Promise<void>;\r\n  syncMe(profile: lowiro.UserProfile): Promise<void>;\r\n}\r\n\r\nexport const $Database = token<AppDatabaseContext>(\"database\");\r\nexport const $PreferenceService = token<PreferenceService>(\"preference\");\r\nexport const $CoreDataService = token<CoreDataService>(\"core-data\");\r\nexport const $CoreDataProvider = token<CoreDataProvider>(\"core-data-provider\");\r\nexport const $AssetsResolver = token<AssetsResolver>(\"assets-resolver\");\r\nexport const $AssetsService = token<AssetsService>(\"assets\");\r\nexport const $AssetsCacheService = token<AssetsCacheService>(\"assets-cache\");\r\nexport const $FileStorage = token<FileStorageService>(\"file-storage\");\r\nexport const $Gateway = token<Gateway>(\"gateway\");\r\nexport const $CharacterService = token<CharacterService>(\"character\");\r\nexport const $ChartService = token<ChartService>(\"chart\");\r\nexport const $MusicPlayService = token<MusicPlayService>(\"music-play\");\r\nexport const $ProfileService = token<ProfileService>(\"profile\");\r\nexport const $WorldModeService = token<WorldModeService>(\"world-mode\");\r\nexport const $CrossSiteScriptPluginService = token<CrossSiteScriptPluginService>(\"cross-site-script\");\r\n","import { Chart, Song, SongData, SongIndex, compareRating, difficulties } from \"../models/music-play\";\r\nimport { searchMatch } from \"../utils/string\";\r\nimport {\r\n  $ChartService,\r\n  ChartService,\r\n  ChartDifficultyStatistics,\r\n  SearchResult,\r\n  ChartStatistics,\r\n  $AssetsResolver,\r\n  AssetsResolver,\r\n  CoreDataService,\r\n  $CoreDataService,\r\n  Gateway,\r\n  $Gateway,\r\n} from \"./declarations\";\r\nimport { indexBy } from \"../utils/collections\";\r\nimport { Injectable } from \"classic-di\";\r\n\r\nconst FREE_PACKS = [\r\n  \"Arcaea\", // \r\n  \"Extend Archive\",\r\n  \"World Extend\",\r\n];\r\n\r\n@Injectable({\r\n  requires: [$AssetsResolver, $Gateway, $CoreDataService] as const,\r\n  implements: $ChartService,\r\n})\r\nexport class ChartServiceImpl implements ChartService {\r\n  freePacks = FREE_PACKS;\r\n\r\n  #songIndex: SongIndex | null = null;\r\n\r\n  constructor(\r\n    private resolver: AssetsResolver,\r\n    private readonly gateway: Gateway,\r\n    private readonly core: CoreDataService\r\n  ) {}\r\n\r\n  getSongData(): Promise<SongData[]> {\r\n    return this.core.getChartData();\r\n  }\r\n\r\n  async getSongIndex(): Promise<SongIndex> {\r\n    return (this.#songIndex ??= await this.#initSongIndex());\r\n  }\r\n\r\n  async getStatistics(): Promise<ChartStatistics> {\r\n    const songs = await this.getSongData();\r\n    const statistics: ChartDifficultyStatistics = difficulties.reduce<ChartDifficultyStatistics>((map, difficulty) => {\r\n      map[difficulty] = { count: 0, notes: 0 };\r\n      return map;\r\n    }, {} as ChartDifficultyStatistics);\r\n    let maximumConstant = -Infinity,\r\n      minimumConstant = Infinity;\r\n    const levels = new Map<number, Set<boolean>>();\r\n    for (const song of songs) {\r\n      for (const chart of song.charts) {\r\n        const { level, plus } = chart;\r\n        levels.set(level, (levels.get(level) ?? new Set()).add(!!plus));\r\n        const stat = statistics[chart.difficulty];\r\n        stat.count++;\r\n        stat.notes += chart.note;\r\n        maximumConstant = Math.max(maximumConstant, chart.constant);\r\n        minimumConstant = Math.min(minimumConstant, chart.constant);\r\n      }\r\n    }\r\n    return {\r\n      difficulties: statistics,\r\n      ratings: [...levels]\r\n        .flatMap(([level, plusSet]) => [...plusSet].map((plus) => ({ level, plus })))\r\n        .sort(compareRating),\r\n      maximumConstant,\r\n      minimumConstant,\r\n    };\r\n  }\r\n\r\n  async searchChart(searchText: string): Promise<SearchResult[]> {\r\n    if (!searchText) {\r\n      return [];\r\n    }\r\n    const songs = await this.getSongData();\r\n    const matches: SearchResult[] = [];\r\n    for (const song of songs) {\r\n      for (const chart of song.charts) {\r\n        candidateMatch: for (const candidate of [song.name, chart.id, chart.override?.name ?? \"\", ...song.alias]) {\r\n          const match = searchMatch(searchText, candidate);\r\n          if (match != null) {\r\n            matches.push({\r\n              song,\r\n              bpm: this.getBPM(chart, song),\r\n              constant: chart.constant,\r\n              cover: this.getCover(chart, song),\r\n              difficulty: chart.difficulty,\r\n              sort: match,\r\n              chart,\r\n              title: this.getName(chart, song),\r\n            });\r\n            break candidateMatch;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return matches.sort((a, b) => {\r\n      if (a.sort !== b.sort) {\r\n        return a.sort - b.sort;\r\n      }\r\n      return difficulties.indexOf(b.difficulty) - difficulties.indexOf(a.difficulty);\r\n    });\r\n  }\r\n  async queryChartsByConstant(min: number, max: number): Promise<SearchResult[]> {\r\n    const songs = await this.getSongData();\r\n    const min10 = Math.round(min * 10);\r\n    const max10 = Math.round(max * 10);\r\n    const items = songs\r\n      .flatMap((s) => s.charts.map((c) => ({ song: s, chart: c })))\r\n      .sort((a, b) => a.chart.constant - b.chart.constant)\r\n      .filter((x) => {\r\n        const c = Math.round(x.chart.constant * 10);\r\n        return min10 <= c && c <= max10;\r\n      });\r\n    return items.map((item) => ({\r\n      song: item.song,\r\n      bpm: this.getBPM(item.chart, item.song),\r\n      chart: item.chart,\r\n      constant: item.chart.constant,\r\n      cover: this.getCover(item.chart, item.song),\r\n      difficulty: item.chart.difficulty,\r\n      sort: 0,\r\n      title: this.getName(item.chart, item.song),\r\n    }));\r\n  }\r\n\r\n  async roll(min: number, max: number): Promise<SearchResult | null> {\r\n    const results = await this.queryChartsByConstant(min, max);\r\n    if (!results.length) {\r\n      return null;\r\n    }\r\n    return results.at(Math.floor(Math.random() * results.length)) ?? null;\r\n  }\r\n\r\n  getName(chart: Chart, song: Song): string {\r\n    return chart.override?.name ?? song.name;\r\n  }\r\n\r\n  getBPM(chart: Chart, song: Song): string {\r\n    return chart.override?.bpm ?? song.bpm;\r\n  }\r\n\r\n  getCover(chart: Chart, song: Song): string {\r\n    return this.gateway.proxy(this.resolver.resolveCover(chart, song, true)).toString();\r\n  }\r\n\r\n  async #initSongIndex() {\r\n    const songs = await this.getSongData();\r\n    return indexBy(songs, (s) => s.id);\r\n  }\r\n}\r\n","export enum Side {\r\n  /**\r\n   * \r\n   */\r\n  Light,\r\n  /**\r\n   * \r\n   */\r\n  Conflict,\r\n  /**\r\n   * \r\n   */\r\n  Colorless,\r\n}\r\n\r\nexport interface Song {\r\n  id: string;\r\n  side: Side;\r\n  alias: string[];\r\n  /**\r\n   * ididid\r\n   */\r\n  // sid: string;\r\n  name: string;\r\n  /*\r\n  \r\n  cover: string;\r\n  */\r\n  covers: string[];\r\n  pack: string;\r\n  dl: boolean;\r\n  /**\r\n   * bpm\r\n   */\r\n  bpm: string;\r\n}\r\n\r\nexport enum Difficulty {\r\n  Past = \"pst\",\r\n  Present = \"prs\",\r\n  Future = \"ftr\",\r\n  Beyond = \"byd\",\r\n}\r\n\r\nexport const difficulties = [Difficulty.Past, Difficulty.Present, Difficulty.Future, Difficulty.Beyond];\r\n\r\nexport const difficultyIndexes: Record<Difficulty, number> = {\r\n  [Difficulty.Past]: 0,\r\n  [Difficulty.Present]: 1,\r\n  [Difficulty.Future]: 2,\r\n  [Difficulty.Beyond]: 3,\r\n};\r\n\r\nexport interface ChartOverride {\r\n  url?: string;\r\n  name?: string;\r\n  cover?: boolean;\r\n  bpm?: string;\r\n}\r\n\r\nexport interface Rating {\r\n  level: number;\r\n  plus?: boolean;\r\n}\r\n\r\nexport interface Chart extends Rating {\r\n  // wikiidid\r\n  id: string;\r\n  songId: string;\r\n  difficulty: Difficulty;\r\n  designer: string;\r\n  constant: number;\r\n  note: number;\r\n  override?: ChartOverride;\r\n}\r\n\r\nexport const formatRating = (rating: Rating): string => `${rating.level}${rating.plus ? \"+\" : \"\"}`;\r\n\r\nexport const parseRating = (text: string): Rating => ({\r\n  level: parseInt(text),\r\n  plus: text.includes(\"+\"),\r\n});\r\n\r\nexport const compareRating = (a: Rating, b: Rating) => {\r\n  if (a.level !== b.level) return a.level - b.level;\r\n  return +!!a.plus - +!!b.plus;\r\n};\r\n\r\nexport interface SongData extends Song {\r\n  charts: Chart[];\r\n}\r\n\r\nexport interface SongIndex {\r\n  [songId: string]: SongData;\r\n}\r\n\r\nexport enum Grade {\r\n  EXPlus = \"EX+\",\r\n  EX = \"EX\",\r\n  AA = \"AA\",\r\n  A = \"A\",\r\n  B = \"B\",\r\n  C = \"C\",\r\n  D = \"D\",\r\n}\r\n\r\nexport enum ClearRank {\r\n  Maximum = \"Max\",\r\n  PureMemory = \"PM\",\r\n  FullRecall = \"FR\",\r\n  EasyClear = \"EC\",\r\n  NormalClear = \"NC\",\r\n  HardClear = \"HC\",\r\n  TrackLost = \"TL\",\r\n}\r\n\r\nexport interface ScoreResult {\r\n  chartId: string;\r\n  score: number;\r\n  grade: Grade;\r\n  potential: number;\r\n}\r\n\r\nexport type PartnerClearRank = ClearRank.EasyClear | ClearRank.NormalClear | ClearRank.HardClear | ClearRank.TrackLost;\r\n\r\nexport type PlayerInputType = \"score-only\" | \"screenshot\" | \"detailed\";\r\n\r\nexport interface NoteResult {\r\n  pure: number;\r\n  perfect: number;\r\n  far: number;\r\n  lost: number;\r\n}\r\n\r\nexport type PlayResult =\r\n  | {\r\n      type: \"score\";\r\n      chartId: string;\r\n      score: number;\r\n      clear: ClearRank | null;\r\n      date?: number | null;\r\n    }\r\n  | {\r\n      type: \"note\";\r\n      chartId: string;\r\n      result: NoteResult;\r\n      clear: ClearRank | null;\r\n      date?: number | null;\r\n    };\r\n","/**\r\n * \r\n */\r\nexport const searchMatch = (searchText: string, candidate: string): number | null => {\r\n  if (searchText === candidate) {\r\n    return 0;\r\n  }\r\n  const index = candidate.toLowerCase().indexOf(searchText.toLowerCase());\r\n  if (index === -1) {\r\n    return null;\r\n  }\r\n  return 1 + index + Math.log(candidate.length);\r\n};\r\n\r\nexport const trimSlash = (str: string): string => {\r\n  let i = str.length - 1;\r\n  for (let char = str[i]; char === \"/\"; ) {\r\n    i--;\r\n    char = str[i];\r\n  }\r\n  return str.slice(0, i);\r\n};\r\n","export function groupBy<T, K extends string | number>(arr: T[], selector: (item: T) => K) {\r\n  return arr.reduce<Record<K, T[]>>((index, item) => {\r\n    (index[selector(item)] ??= []).push(item);\r\n    return index;\r\n  }, {} as Record<K, T[]>);\r\n}\r\n\r\nexport function indexBy<T>(arr: T[], selector: (item: T) => string | number) {\r\n  return arr.reduce<{ [key: string | number]: T }>((index, item) => {\r\n    index[selector(item)] = item;\r\n    return index;\r\n  }, {});\r\n}\r\n\r\nexport function mapProps<K extends string | number, T, R>(obj: Record<K, T>, selector: (item: T) => R): Record<K, R> {\r\n  // @ts-expect-error cannot infer obj key as K\r\n  return Object.fromEntries(\r\n    Object.entries(obj).map(([key, value]) => {\r\n      // @ts-expect-error cannot infer type of value\r\n      return [key, selector(value)];\r\n    })\r\n  );\r\n}\r\n\r\nexport type Indexed<T> = { [key: string | number]: T };\r\n","import { Injectable } from \"classic-di\";\r\nimport {\r\n  Chart,\r\n  ClearRank,\r\n  Difficulty,\r\n  Grade,\r\n  NoteResult,\r\n  PartnerClearRank,\r\n  ScoreResult,\r\n  difficultyIndexes,\r\n} from \"../models/music-play\";\r\nimport { $ChartService, $MusicPlayService, ChartService, MusicPlayService, MusicPlayStatistics } from \"./declarations\";\r\n\r\nconst MAX_BASE_SCORE = 1000_0000;\r\nconst EX_PLUS_SCORE = 990_0000;\r\nconst EX_SCORE = 980_0000;\r\nconst AA_SCORE = 950_0000;\r\nconst A_SCORE = 920_0000;\r\nconst B_SCORE = 890_0000;\r\nconst C_SCORE = 860_0000;\r\n\r\nconst EX_RATIO = 20_0000;\r\nconst AA_RATIO = 30_0000;\r\n\r\n// @ts-expect-error object entries type\r\nconst GRADE_INDEX: Record<Grade, number> = Object.fromEntries(\r\n  Object.values(Grade).map((grade, i) => [grade, i] as const)\r\n);\r\n\r\n@Injectable({\r\n  requires: [$ChartService],\r\n  implements: $MusicPlayService,\r\n})\r\nexport class MusicPlayServiceImpl implements MusicPlayService {\r\n  ex = EX_SCORE;\r\n  grades = Object.values(Grade);\r\n  maxBase = MAX_BASE_SCORE;\r\n\r\n  constructor(private readonly chart: ChartService) {}\r\n\r\n  async getStatistics(): Promise<MusicPlayStatistics> {\r\n    const songs = await this.chart.getSongData();\r\n    const stats = await this.chart.getStatistics();\r\n    const constants = songs.flatMap((s) => s.charts.map((c) => c.constant));\r\n    const maxs = [...constants].sort((a, b) => b - a).slice(0, 30);\r\n    const maxptt = maxs.concat(maxs.slice(0, 10)).reduce((sum, curr) => sum + curr + 2, 0) / 40;\r\n    return {\r\n      maximumPotential: maxptt,\r\n      maximumSinglePotential: stats.maximumConstant + 2,\r\n    };\r\n  }\r\n\r\n  inferNoteResult(\r\n    chart: Chart,\r\n    perfect: number | null,\r\n    far: number | null,\r\n    lost: number | null,\r\n    score: number | null\r\n  ): NoteResult | null {\r\n    const { note } = chart;\r\n    if (perfect != null && far != null && lost != null) {\r\n      return {\r\n        pure: note - far - lost,\r\n        perfect,\r\n        far,\r\n        lost,\r\n      };\r\n    }\r\n    if (score != null && far != null && lost != null) {\r\n      const pure = note - far - lost;\r\n      const noPerfectScore = this.computeScore(chart, {\r\n        pure,\r\n        perfect: 0,\r\n        far,\r\n        lost,\r\n      });\r\n      return {\r\n        pure,\r\n        perfect: score - noPerfectScore,\r\n        far,\r\n        lost,\r\n      };\r\n    }\r\n    if (score != null) {\r\n      if (score >= MAX_BASE_SCORE) {\r\n        // PM\r\n        return {\r\n          pure: note,\r\n          perfect: score - MAX_BASE_SCORE,\r\n          far: 0,\r\n          lost: 0,\r\n        };\r\n      }\r\n      // 1farP1far\r\n      const oneFarScore = this.computeScore(chart, {\r\n        pure: note - 1,\r\n        perfect: 0,\r\n        far: 1,\r\n        lost: 0,\r\n      });\r\n      if (score >= oneFarScore) {\r\n        return {\r\n          pure: note - 1,\r\n          perfect: score - oneFarScore,\r\n          far: 1,\r\n          lost: 0,\r\n        };\r\n      }\r\n    }\r\n    // far\r\n    return null;\r\n  }\r\n  computeScore(chart: Chart, playResult: NoteResult): number {\r\n    const { perfect, far, lost } = playResult;\r\n    return Math.floor(MAX_BASE_SCORE * (1 - (far / 2 + lost) / chart.note)) + perfect;\r\n  }\r\n\r\n  computeGrade(score: number): Grade {\r\n    switch (true) {\r\n      case score >= EX_PLUS_SCORE:\r\n        return Grade.EXPlus;\r\n      case score >= EX_SCORE:\r\n        return Grade.EX;\r\n      case score >= AA_SCORE:\r\n        return Grade.AA;\r\n      case score >= A_SCORE:\r\n        return Grade.A;\r\n      case score >= B_SCORE:\r\n        return Grade.B;\r\n      case score >= C_SCORE:\r\n        return Grade.C;\r\n      default:\r\n        return Grade.D;\r\n    }\r\n  }\r\n  computeClearRank(noteResult: NoteResult, chart: Chart, clear: PartnerClearRank | null): ClearRank | null {\r\n    const { far, lost, perfect } = noteResult;\r\n    const { note } = chart;\r\n    if (!lost) {\r\n      if (!far) {\r\n        if (perfect === note) {\r\n          // \r\n          return ClearRank.Maximum;\r\n        }\r\n        return ClearRank.PureMemory;\r\n      }\r\n      // farnoteTL\r\n      // Track LostTL\r\n      if (clear !== ClearRank.TrackLost) {\r\n        return ClearRank.FullRecall;\r\n      }\r\n    }\r\n    return clear;\r\n  }\r\n\r\n  private computePotentialModifier(score: number): number {\r\n    if (score >= MAX_BASE_SCORE) {\r\n      // PM1000W\r\n      return 2;\r\n    }\r\n    if (score >= EX_SCORE) {\r\n      return (score - EX_SCORE) / EX_RATIO + 1;\r\n    }\r\n    return (score - EX_SCORE) / AA_RATIO + 1;\r\n  }\r\n\r\n  computePotential(score: number, chart: Chart): number {\r\n    const { constant } = chart;\r\n    const modifier = this.computePotentialModifier(score);\r\n    return Math.max(0, constant + modifier);\r\n  }\r\n  computeScoreResult(score: number, chart: Chart): ScoreResult {\r\n    return {\r\n      grade: this.computeGrade(score),\r\n      chartId: chart.id,\r\n      score,\r\n      potential: this.computePotential(score, chart),\r\n    };\r\n  }\r\n  computePMConstant(potential: number, overflow: boolean): number {\r\n    const target = potential - 2;\r\n    const gapFactor = target >= 8 ? 10 : 2;\r\n    return (overflow ? Math.ceil : Math.floor)(target * gapFactor) / gapFactor;\r\n  }\r\n\r\n  inverseScore(potential: number, constant: number): number {\r\n    const modifier = potential - constant;\r\n    const rawScore = modifier < 1 ? modifier * AA_RATIO + AA_SCORE : (modifier - 1) * EX_RATIO + EX_SCORE;\r\n    return Math.round(rawScore);\r\n  }\r\n\r\n  inverseConstant(potential: number, score: number, raw?: boolean): number {\r\n    const modifier = this.computePotentialModifier(score);\r\n    const rawConstant = potential - modifier;\r\n    if (raw) return rawConstant;\r\n    return Math.round(rawConstant * 10) / 10;\r\n  }\r\n\r\n  computeFar(score: number, note: number, overflow: boolean): number {\r\n    const count = ((MAX_BASE_SCORE - score) * note * 2) / MAX_BASE_SCORE;\r\n    return (overflow ? Math.floor : Math.ceil)(count);\r\n  }\r\n\r\n  compareGrade(a: Grade, b: Grade): number {\r\n    return GRADE_INDEX[a] - GRADE_INDEX[b];\r\n  }\r\n\r\n  getPotentialRating(potential: number): number {\r\n    return [3.5, 7.0, 10.0, 11.0, 12.0, 12.5, 13.0, Infinity].findIndex((bound) => potential < bound);\r\n  }\r\n\r\n  mapClearType(clearType: number, shinyPerfectCount: number, chart: Chart): ClearRank {\r\n    if (shinyPerfectCount === chart.note) {\r\n      return ClearRank.Maximum;\r\n    }\r\n    switch (clearType) {\r\n      case 0:\r\n        return ClearRank.TrackLost;\r\n      case 1:\r\n        return ClearRank.NormalClear;\r\n      case 2:\r\n        return ClearRank.FullRecall;\r\n      case 3:\r\n        return ClearRank.PureMemory;\r\n      case 4:\r\n        return ClearRank.EasyClear;\r\n      case 5:\r\n        return ClearRank.HardClear;\r\n    }\r\n    throw new Error(`clear_type: ${clearType}`);\r\n  }\r\n  mapDifficulty(d: Difficulty): number {\r\n    return difficultyIndexes[d];\r\n  }\r\n}\r\n","import { SqlJsStatic } from \"sql.js\";\r\nimport { ClearRank, Difficulty, NoteResult, PlayResult, difficulties } from \"../models/music-play\";\r\nimport { B30Response, BestResultItem, Profile, ProfileUpdatePayload, ProfileV1, ProfileV2 } from \"../models/profile\";\r\nimport { download } from \"../utils/download\";\r\nimport { readBinary, readFile } from \"../utils/read-file\";\r\nimport { alert, confirm } from \"../view/components/fancy-dialog\";\r\nimport {\r\n  $ChartService,\r\n  $Database,\r\n  $MusicPlayService,\r\n  $ProfileService,\r\n  AppDatabaseContext,\r\n  B30Options,\r\n  BestStatistics,\r\n  BestStatisticsQuery,\r\n  ChartService,\r\n  ImportResult,\r\n  MusicPlayService,\r\n  ProfileService,\r\n  ReportProgress,\r\n} from \"./declarations\";\r\nimport { Injectable } from \"classic-di\";\r\nimport { groupBy, indexBy, mapProps } from \"../utils/collections\";\r\nimport { arcaeaReleaseTS, delay } from \"../utils/time\";\r\nimport { sum } from \"../utils/math\";\r\nimport { requestToPromise } from \"../utils/indexed-db\";\r\nimport { isString, jsonModule } from \"../utils/misc\";\r\n\r\nconst KEY_CURRENT_USERNAME = \"CURRENT_USERNAME\";\r\n\r\nconst isValidProfileV1 = (input: any): input is ProfileV1 => {\r\n  const value: Partial<ProfileV1> = input;\r\n  return (\r\n    value != null &&\r\n    typeof value === \"object\" &&\r\n    value.version === 1 &&\r\n    typeof value.username === \"string\" &&\r\n    typeof value.potential === \"string\" &&\r\n    typeof value.best === \"object\" &&\r\n    (value.characters == null || Array.isArray(value.characters))\r\n  );\r\n};\r\n\r\nconst isValidProfileV2 = (input: any): input is ProfileV2 => {\r\n  const value: Partial<ProfileV2> = input;\r\n  return (\r\n    value != null &&\r\n    typeof value === \"object\" &&\r\n    value.version === 2 &&\r\n    typeof value.username === \"string\" &&\r\n    typeof value.potential === \"string\" &&\r\n    typeof value.best === \"object\" &&\r\n    (value.characters == null || Array.isArray(value.characters))\r\n  );\r\n};\r\n\r\n@Injectable({\r\n  requires: [$Database, $MusicPlayService, $ChartService] as const,\r\n  implements: $ProfileService,\r\n})\r\nexport class ProfileServiceImpl implements ProfileService {\r\n  #currentUsername: string | null = this.#getInitCurrentUsername();\r\n  #SQL: SqlJsStatic | null = null;\r\n  constructor(\r\n    private readonly database: AppDatabaseContext,\r\n    private readonly musicPlay: MusicPlayService,\r\n    private readonly chartService: ChartService\r\n  ) {}\r\n\r\n  async checkMigration(): Promise<null | (() => Promise<void>)> {\r\n    const legacyProfiles = this.#getLegacyProfileListSync();\r\n    if (!legacyProfiles.length) return null;\r\n    return async () => {\r\n      const upgradedProfiles = await Promise.all(\r\n        legacyProfiles.map(async (profile) => {\r\n          if (isValidProfileV1(profile)) return this.#upgradeV1(profile);\r\n          return profile;\r\n        })\r\n      );\r\n      await this.syncProfiles(upgradedProfiles);\r\n      this.#removeLegacyProfilesSync(upgradedProfiles.map((p) => p.username));\r\n    };\r\n  }\r\n\r\n  formatPotential(potential: number): string {\r\n    const rating = Math.floor(potential * 100);\r\n    return (rating / 100).toFixed(2);\r\n  }\r\n\r\n  async getProfile(): Promise<Profile | null> {\r\n    const username = this.#currentUsername ?? (await this.#getPossibleOnlyUsername());\r\n    if (!username) {\r\n      return null;\r\n    }\r\n    if (username !== this.#currentUsername) {\r\n      await this.useProfile(username);\r\n    }\r\n    const profile = await this.#getProfileAsync(username);\r\n    if (!profile) {\r\n      sessionStorage.removeItem(KEY_CURRENT_USERNAME);\r\n    }\r\n    return profile;\r\n  }\r\n\r\n  async createOrUpdateProfile(username: string, potential: number): Promise<void> {\r\n    const profile: Profile = (await this.#getProfileAsync(username)) ?? this.createEmptyProfile(username);\r\n    profile.potential = potential.toFixed(2);\r\n    profile.username = username;\r\n    await this.#saveProfile(profile);\r\n  }\r\n\r\n  async getProfileList(): Promise<string[]> {\r\n    const usernames = await requestToPromise((await this.#store()).getAllKeys());\r\n    return usernames?.filter(isString) ?? [];\r\n  }\r\n\r\n  async syncProfiles(data: ProfileUpdatePayload[]): Promise<void> {\r\n    for (const profile of data) {\r\n      this.#saveProfile(profile);\r\n    }\r\n  }\r\n\r\n  async importProfile(file: File): Promise<void> {\r\n    const content = await readFile(file);\r\n    try {\r\n      const json = JSON.parse(content);\r\n      const profile = isValidProfileV1(json) ? await this.#upgradeV1(json) : isValidProfileV2(json) ? json : null;\r\n      if (!profile) {\r\n        alert(``);\r\n        return;\r\n      }\r\n      const username = profile.username;\r\n      const oldProfile = await this.#getProfileAsync(username);\r\n      if (oldProfile != null) {\r\n        if (!(await confirm(\"\"))) {\r\n          return;\r\n        }\r\n      }\r\n      await this.#saveProfile(profile);\r\n      alert(\"\");\r\n    } catch (error) {\r\n      alert(`${error}`);\r\n    }\r\n  }\r\n  async exportProfile(profile: Profile): Promise<void> {\r\n    const url = URL.createObjectURL(new Blob([JSON.stringify(profile)], { type: \"application/json\" }));\r\n    download(url, `profile_${profile.username}.json`);\r\n  }\r\n  async addResult(playResult: PlayResult, replace?: boolean | undefined): Promise<void> {\r\n    const p = await this.getProfile();\r\n    if (!p) {\r\n      alert(\"\");\r\n      return;\r\n    }\r\n    if (!replace) {\r\n      const oldResult = p.best[playResult.chartId];\r\n      if (oldResult) {\r\n        const { chart } = (await this.chartService.searchChart(playResult.chartId))[0] ?? {};\r\n        if (chart) {\r\n          const getScore = (res: PlayResult): number =>\r\n            res.type === \"score\" ? res.score : this.musicPlay.computeScore(chart, res.result);\r\n          const oldScore = getScore(oldResult);\r\n          const newScore = getScore(playResult);\r\n          if (\r\n            newScore <= oldScore &&\r\n            !(await confirm(`${newScore}${oldScore}`))\r\n          ) {\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    p.best[playResult.chartId] = playResult;\r\n    await this.#saveProfile(p);\r\n  }\r\n\r\n  async useProfile(username: string): Promise<void> {\r\n    this.#currentUsername = username;\r\n    sessionStorage.setItem(KEY_CURRENT_USERNAME, username);\r\n  }\r\n\r\n  async removeResult(chartId: string): Promise<void> {\r\n    const p = await this.getProfile();\r\n    if (!p) {\r\n      return;\r\n    }\r\n    delete p.best[chartId];\r\n    await this.#saveProfile(p);\r\n  }\r\n\r\n  async deleteProfile(username: string): Promise<void> {\r\n    const store = await this.#store(\"readwrite\");\r\n    await requestToPromise(store.delete(username));\r\n  }\r\n\r\n  async b30(profile: Profile, options?: Partial<B30Options>): Promise<B30Response> {\r\n    const songs = await this.chartService.getSongData();\r\n    const charts = Object.fromEntries(songs.flatMap((s) => s.charts.map((c) => [c.id, { chart: c, song: s }])));\r\n    const playResults = Object.values(profile.best).map<BestResultItem>((r) => {\r\n      const { chart, song } = charts[r.chartId]!;\r\n      const { clear } = r;\r\n      if (r.type === \"score\") {\r\n        const { score } = r;\r\n        return {\r\n          chart,\r\n          score: this.musicPlay.computeScoreResult(score, chart),\r\n          song,\r\n          clear,\r\n          note: null,\r\n          no: 0,\r\n          date: r.date,\r\n        };\r\n      }\r\n      return {\r\n        chart,\r\n        song,\r\n        clear,\r\n        no: 0,\r\n        note: r.result,\r\n        score: this.musicPlay.computeScoreResult(this.musicPlay.computeScore(chart, r.result), chart),\r\n        date: r.date,\r\n      };\r\n    });\r\n    let hasFilter = false;\r\n    const packs = new Set(options?.packs);\r\n    const ordered = playResults\r\n      .filter((item) => {\r\n        const { song } = item;\r\n        if (packs.size && !packs.has(song.pack)) {\r\n          hasFilter = true;\r\n          return false;\r\n        }\r\n        const customFilter = options?.filter?.(item) ?? true;\r\n        if (!customFilter) {\r\n          hasFilter = true;\r\n        }\r\n        return customFilter;\r\n      })\r\n      .sort((a, b) => b.score.potential - a.score.potential)\r\n      .map((r, i) => ({ ...r, no: i + 1 }));\r\n    const b30 = ordered.slice(0, 30);\r\n    const ptt30 = b30.map((r) => r.score.potential);\r\n    const b30Sum = sum(ptt30);\r\n    const b10Sum = sum(ptt30.slice(0, 10));\r\n    const maxPotential = (b10Sum + b30Sum) / 40;\r\n    const minPotential = b30Sum / 40;\r\n    const potential = hasFilter ? this.formatPotential(maxPotential) : profile.potential;\r\n    // 10recent 10\r\n    const r10Average = (+potential * 40 - b30Sum) / Math.min(playResults.length, 10);\r\n\r\n    return {\r\n      queryTime: Date.now(),\r\n      username: profile.username,\r\n      potential,\r\n      rating: this.musicPlay.getPotentialRating(+potential),\r\n      b30: b30,\r\n      b31_39: ordered.slice(30, 39),\r\n      maxPotential,\r\n      minPotential,\r\n      r10Average,\r\n      b30Average: b30Sum / ptt30.length,\r\n    };\r\n  }\r\n\r\n  async generateMaxProfile(): Promise<Profile> {\r\n    const songData = await this.chartService.getSongData();\r\n    const stats = await this.musicPlay.getStatistics();\r\n    const profile = this.createEmptyProfile(\"\");\r\n    profile.potential = (Math.floor(stats.maximumPotential * 100) / 100).toFixed(2);\r\n    for (const song of songData) {\r\n      for (const chart of song.charts) {\r\n        profile.best[chart.id] = {\r\n          chartId: chart.id,\r\n          clear: ClearRank.Maximum,\r\n          type: \"note\",\r\n          result: {\r\n            far: 0,\r\n            lost: 0,\r\n            perfect: chart.note,\r\n            pure: chart.note,\r\n          },\r\n        };\r\n      }\r\n    }\r\n    return profile;\r\n  }\r\n\r\n  async importDB(file: File, profile: Profile, report?: ReportProgress): Promise<ImportResult> {\r\n    report?.(\"\");\r\n    const bytes = await readBinary(file);\r\n    report?.(\"\");\r\n    const SQL = (this.#SQL ??= await this.#initSQLJS());\r\n    report?.(\"\");\r\n    await delay(300);\r\n    const db = new SQL.Database(new Uint8Array(bytes));\r\n    const [scoreQueryResult] = db.exec(`\\\r\nSELECT\r\nscores.songId,\r\nscores.songDifficulty,\r\nscores.shinyPerfectCount,\r\nscores.perfectCount,\r\nscores.nearCount,\r\nscores.missCount,\r\nscores.date,\r\ncleartypes.clearType \r\nFROM scores JOIN cleartypes\r\nON scores.songId = cleartypes.songId AND scores.songDifficulty = cleartypes.songDifficulty\r\n`);\r\n\r\n    report?.(\"\");\r\n    if (!scoreQueryResult) {\r\n      throw new Error(`st3`);\r\n    }\r\n    interface ST3ScoreQuery {\r\n      songId: string;\r\n      songDifficulty: number;\r\n      shinyPerfectCount: number;\r\n      perfectCount: number;\r\n      nearCount: number;\r\n      missCount: number;\r\n      date: number;\r\n      clearType: number;\r\n    }\r\n    const { columns, values } = scoreQueryResult;\r\n    const scores = values.map((row) =>\r\n      row.reduce<ST3ScoreQuery>((st3Score, value, index) => {\r\n        Reflect.set(st3Score, columns[index]!, value);\r\n        return st3Score;\r\n      }, {} as unknown as ST3ScoreQuery)\r\n    );\r\n    const songIndex = await this.chartService.getSongIndex();\r\n    const now = Date.now();\r\n    const { best } = profile;\r\n    const result: ImportResult = {\r\n      count: 0,\r\n      difficulties: mapProps(\r\n        groupBy(difficulties, (d) => d),\r\n        () => 0\r\n      ),\r\n      skipped: [],\r\n    };\r\n    for (const score of scores) {\r\n      const { songId, songDifficulty, shinyPerfectCount, perfectCount, nearCount, missCount, date, clearType } = score;\r\n      const song = songIndex[songId];\r\n      if (!song) {\r\n        result.skipped.push(`songId${songId}`);\r\n        continue;\r\n      }\r\n      const chart = song.charts.find((c) => c.difficulty === difficulties[songDifficulty]);\r\n      if (!chart) {\r\n        result.skipped.push(`${song.name}${Object.keys(Difficulty)[songDifficulty]}`);\r\n        continue;\r\n      }\r\n      const noteResult: NoteResult = {\r\n        perfect: shinyPerfectCount,\r\n        pure: perfectCount,\r\n        far: nearCount,\r\n        lost: missCount,\r\n      };\r\n      best[chart.id] = {\r\n        type: \"note\",\r\n        result: noteResult,\r\n        chartId: chart.id,\r\n        clear: this.musicPlay.mapClearType(clearType, shinyPerfectCount, chart),\r\n        date: this.#normalizeDate(date, now),\r\n      };\r\n      result.difficulties[chart.difficulty]++;\r\n      result.count++;\r\n    }\r\n\r\n    await this.#saveProfile({ username: profile.username, best });\r\n    return result;\r\n  }\r\n\r\n  async getProfileStatistics(profile: Profile, query?: BestStatisticsQuery): Promise<BestStatistics> {\r\n    const byRecords = (records: PlayResult[]): BestStatistics => {\r\n      let total = records.length,\r\n        clear = 0,\r\n        fr = 0,\r\n        pm = 0,\r\n        max = 0,\r\n        totalAccScore = 0,\r\n        totalAccChartCount = 0,\r\n        totalDetailed = 0,\r\n        totalPerfect = 0,\r\n        totalGreat = 0,\r\n        totalNotes = 0,\r\n        totalScore = 0,\r\n        totalNoteResultNotes = 0;\r\n      for (const record of records) {\r\n        const chart = charts[record.chartId]!;\r\n        const { note } = chart;\r\n        totalNotes += note;\r\n        let score = 0;\r\n        if (record.type === \"note\") {\r\n          const { result } = record;\r\n          const { perfect, pure } = result;\r\n          totalDetailed++;\r\n          totalNoteResultNotes += note;\r\n          totalPerfect += perfect;\r\n          totalGreat += pure - perfect;\r\n          switch (record.clear) {\r\n            // @ts-ignore\r\n            case ClearRank.Maximum:\r\n              max++;\r\n            // @ts-ignore\r\n            case ClearRank.PureMemory:\r\n              pm++;\r\n            // @ts-ignore\r\n            case ClearRank.FullRecall:\r\n              fr++;\r\n            case ClearRank.EasyClear:\r\n            case ClearRank.NormalClear:\r\n            case ClearRank.HardClear:\r\n              clear++;\r\n          }\r\n          score = this.musicPlay.computeScore(chart, result);\r\n        } else if (record.type === \"score\") {\r\n          score = record.score;\r\n        }\r\n        totalScore += score;\r\n        const accScore = Math.min(score, this.musicPlay.maxBase);\r\n        if (accScore > this.musicPlay.ex) {\r\n          totalAccScore += accScore;\r\n          totalAccChartCount++;\r\n        }\r\n      }\r\n      const acc = totalAccScore / totalAccChartCount / this.musicPlay.maxBase;\r\n      const pacc = totalPerfect / totalNoteResultNotes;\r\n      const rest = totalNotes + total * this.musicPlay.maxBase - totalScore;\r\n      return {\r\n        total,\r\n        clear,\r\n        pm,\r\n        fr,\r\n        max,\r\n        acc,\r\n        detailed: totalDetailed,\r\n        perfect: totalPerfect,\r\n        great: totalGreat,\r\n        notes: totalNoteResultNotes,\r\n        pacc,\r\n        rest,\r\n      };\r\n    };\r\n    const songs = await this.chartService.getSongData();\r\n    const charts = indexBy(\r\n      songs.flatMap((song) => song.charts),\r\n      (chart) => chart.id\r\n    );\r\n    const all = Object.values(profile.best);\r\n    const filteredResults = all.filter((result) => {\r\n      if (!query) {\r\n        return true;\r\n      }\r\n      const chart = charts[result.chartId]!;\r\n      const { rating, difficulty } = query;\r\n      if (difficulty) {\r\n        if (chart.difficulty !== difficulty) {\r\n          return false;\r\n        }\r\n      }\r\n      if (rating) {\r\n        if (chart.level !== rating.level || !!chart.plus !== !!rating.plus) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n    return byRecords(filteredResults);\r\n  }\r\n\r\n  private createEmptyProfile(username: string): Profile {\r\n    return {\r\n      best: {},\r\n      potential: \"0\",\r\n      username,\r\n      version: 2,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @deprecated\r\n   */\r\n  #getLegacyJSONSync(username: string): object | null {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(username)!);\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async #getProfileAsync(username: string) {\r\n    const store = await this.#store();\r\n    const profile = await requestToPromise<Profile>(store.get(username));\r\n    return profile;\r\n  }\r\n\r\n  async #upgradeV1(v1: ProfileV1): Promise<ProfileV2> {\r\n    const indexed = await this.#getV1Map();\r\n    return {\r\n      ...v1,\r\n      version: 2,\r\n      best: Object.fromEntries(\r\n        Object.entries(v1.best).map(([oldChartId, value]) => {\r\n          const chartId = indexed[oldChartId.toLowerCase()];\r\n          if (!chartId) {\r\n            throw new Error(`Cannot upgrade chartId: ${oldChartId}`);\r\n          }\r\n          return [\r\n            chartId,\r\n            {\r\n              ...value,\r\n              chartId,\r\n            },\r\n          ] as const;\r\n        })\r\n      ),\r\n    };\r\n  }\r\n\r\n  async #saveProfile(profile: ProfileUpdatePayload) {\r\n    const key = profile.username;\r\n    const original = (await this.#getProfileAsync(key)) ?? this.createEmptyProfile(key);\r\n    const newProfile = Object.assign({}, original, profile);\r\n    await this.#saveProfileDirectly(newProfile);\r\n  }\r\n\r\n  async #saveProfileDirectly(profile: Profile) {\r\n    const store = await this.#store(\"readwrite\");\r\n    await requestToPromise(store.put(profile));\r\n  }\r\n\r\n  #getInitCurrentUsername(): string | null {\r\n    const sessionUsername = sessionStorage.getItem(KEY_CURRENT_USERNAME);\r\n    if (sessionUsername) {\r\n      return sessionUsername;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async #getPossibleOnlyUsername() {\r\n    const profiles = await this.getProfileList();\r\n    return profiles.length === 1 ? profiles[0] : null;\r\n  }\r\n\r\n  /**\r\n   * @deprecated\r\n   */\r\n  #getLegacyProfileListSync(): (ProfileV1 | ProfileV2)[] {\r\n    return Array.from({ length: localStorage.length }, (_, i) => localStorage.key(i)!)\r\n      .map((key) => this.#getLegacyJSONSync(key))\r\n      .filter((profile): profile is ProfileV1 | ProfileV2 => {\r\n        return isValidProfileV1(profile) || isValidProfileV2(profile);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * @deprecated\r\n   */\r\n  #removeLegacyProfilesSync(keys: string[]) {\r\n    for (const key of keys) {\r\n      localStorage.removeItem(key);\r\n    }\r\n  }\r\n\r\n  #normalizeDate(date: number, now: number): number | null {\r\n    if (!date) return null;\r\n    for (let time = date; time < now; time *= 1e3) {\r\n      if (time >= arcaeaReleaseTS) {\r\n        return time;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async #transaction(mode?: IDBTransactionMode) {\r\n    const db = await this.database.getDB();\r\n    return db.transaction([this.database.profiles], mode);\r\n  }\r\n\r\n  async #store(mode?: IDBTransactionMode) {\r\n    const transaction = await this.#transaction(mode);\r\n    return transaction.objectStore(this.database.profiles);\r\n  }\r\n\r\n  async #initSQLJS() {\r\n    const { default: initSQLJS } = await import(\"sql.js\");\r\n    return initSQLJS({\r\n      locateFile(url, scriptDirectory) {\r\n        if (url === \"sql-wasm.wasm\") {\r\n          return new URL(\"../../node_modules/sql.js/dist/sql-wasm.wasm\", import.meta.url).href;\r\n        }\r\n        return `https://sql.js.org/dist/${url}`;\r\n      },\r\n    });\r\n  }\r\n\r\n  #v1Map: {\r\n    [oldChartIdLower: string]: string;\r\n  } | null = null;\r\n\r\n  async #getV1Map() {\r\n    if (!this.#v1Map) {\r\n      const v1Data = await jsonModule(import(\"../data/chart-data-legacy-1.json\"));\r\n      const v2Data = await this.chartService.getSongData();\r\n      const validV2ChartIds = new Set(v2Data.flatMap((song) => song.charts.map((chart) => chart.id)));\r\n      Object.assign({ validV2ChartIds });\r\n      this.#v1Map = Object.fromEntries(\r\n        v1Data.flatMap((song) =>\r\n          song.charts.map((chart) => {\r\n            const newId = `${song.sid}@${chart.difficulty}`;\r\n            if (!validV2ChartIds.has(newId)) {\r\n              console.error(`${newId} cannot be resolved`);\r\n            }\r\n            const oldIdLower = chart.id.toLowerCase();\r\n            return [oldIdLower, newId];\r\n          })\r\n        )\r\n      );\r\n    }\r\n    return this.#v1Map;\r\n  }\r\n}\r\n","export function readFile(file: File) {\r\n  return new Promise<string>((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const { result } = reader;\r\n      if (typeof result === \"string\") {\r\n        resolve(result);\r\n      } else {\r\n        reject();\r\n      }\r\n    };\r\n    reader.onerror = reject;\r\n    reader.readAsText(file, \"utf-8\");\r\n  });\r\n}\r\n\r\nexport function readBinary(file: File): Promise<ArrayBuffer> {\r\n  return new Promise<ArrayBuffer>((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      const result = reader.result;\r\n      if (result instanceof ArrayBuffer) {\r\n        resolve(result);\r\n      } else {\r\n        reject();\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { sheet } from \"./style.css.js\";\r\nimport { bootstrap } from \"../../styles\";\r\nimport { Component, HyplateElement, Show, element, listen, mount, nil, signal, unmount } from \"hyplate\";\r\nimport type { GlobalAttributes, JSXChildNode, Rendered } from \"hyplate/types\";\r\n\r\ntype RenderedSlot = Rendered<any> | null;\r\ntype RenderWithClose = (done: () => void, cancel: () => void) => JSXChildNode;\r\ntype RenderWithAction<T> = (done: (result: T) => void, cancel: () => void) => JSXChildNode;\r\n\r\nexport\r\n@Component({\r\n  tag: \"fancy-dialog\",\r\n  styles: [sheet, bootstrap],\r\n})\r\nclass FancyDialog extends HyplateElement {\r\n  dialog = element(\"dialog\");\r\n  content = signal<JSX.Element>(nil);\r\n  #renderedSlot: RenderedSlot = null;\r\n  override render() {\r\n    this.effect(() =>\r\n      listen(this.dialog)(\"close\", () => {\r\n        this.content.set(nil);\r\n        this.#unmountSlots();\r\n      })\r\n    );\r\n    return (\r\n      <dialog ref={this.dialog}>\r\n        <Show when={this.content}>{(node) => node}</Show>\r\n      </dialog>\r\n    );\r\n  }\r\n\r\n  showAlert(message: JSXChildNode, useSlot?: boolean) {\r\n    if (useSlot) {\r\n      this.#renderedSlot = mount(<>{message}</>, this);\r\n    }\r\n    return new Promise<void>((resolve) => {\r\n      this.content.set(\r\n        <div class=\"modal-root\" part=\"modal-root\">\r\n          <div class=\"modal-content mb-3\">{useSlot ? <slot name=\"content\"></slot> : message}</div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-primary\" onClick={() => {\r\n              this.dialog.close();\r\n              resolve();\r\n            }}>\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n      this.dialog.showModal();\r\n    });\r\n  }\r\n\r\n  done = () => this.dialog.close(\"confirm\");\r\n  cancel = () => this.dialog.close(\"cancel\");\r\n  showConfirm(message: JSXChildNode, renderFooter?: RenderWithClose): Promise<boolean> {\r\n    return new Promise<boolean>((resolve) => {\r\n      this.content.set(\r\n        <div\r\n          part=\"modal-root\"\r\n          class=\"modal-root\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            this.done();\r\n          }}\r\n        >\r\n          <div class=\"modal-content mb-3\">{message}</div>\r\n          <div class=\"modal-footer\">\r\n            {(\r\n              renderFooter ??\r\n              ((done, cancel) => [\r\n                <button type=\"button\" class=\"btn btn-primary\" onClick={done}>\r\n                  \r\n                </button>,\r\n                <button type=\"button\" class=\"btn btn-secondary\" onClick={cancel}>\r\n                  \r\n                </button>,\r\n              ])\r\n            )(this.done, this.cancel)}\r\n          </div>\r\n        </div>\r\n      );\r\n      this.dialog.onclose = () => {\r\n        switch (this.dialog.returnValue) {\r\n          case \"confirm\":\r\n            resolve(true);\r\n            break;\r\n          default:\r\n            resolve(false);\r\n            break;\r\n        }\r\n      };\r\n      this.dialog.showModal();\r\n    });\r\n  }\r\n\r\n  showPicker<T>(renderContents: RenderWithAction<T>) {\r\n    return new Promise<T | null>((resolve) => {\r\n      this.#renderedSlot = mount(\r\n        <>\r\n          {renderContents(\r\n            (value) => {\r\n              resolve(value);\r\n              this.done();\r\n            },\r\n            () => {\r\n              resolve(null);\r\n              this.cancel();\r\n            }\r\n          )}\r\n        </>,\r\n        this\r\n      );\r\n      this.content.set(\r\n        <div\r\n          part=\"modal-root\"\r\n          class=\"modal-root\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            this.done();\r\n          }}\r\n        >\r\n          <div class=\"modal-content mb-3\">\r\n            <slot name=\"content\"></slot>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <slot name=\"footer\"></slot>\r\n          </div>\r\n        </div>\r\n      );\r\n      this.dialog.onclose = this.dialog.oncancel = () => resolve(null);\r\n      this.dialog.showModal();\r\n    });\r\n  }\r\n\r\n  #unmountSlots() {\r\n    const unmountIf = (content: RenderedSlot) => content && unmount(content);\r\n    unmountIf(this.#renderedSlot);\r\n    this.#renderedSlot = null;\r\n    this.innerHTML = \"\";\r\n  }\r\n}\r\n\r\nconst globalMessage = new FancyDialog();\r\nconst ensureInDocument = () => {\r\n  if (!globalMessage.isConnected) {\r\n    document.body.appendChild(globalMessage);\r\n  }\r\n};\r\nexport const confirm = (\r\n  message: JSXChildNode,\r\n  renderFooter?: (done: () => void, cancel: () => void) => JSX.Element | JSX.Element[]\r\n) => {\r\n  ensureInDocument();\r\n  return globalMessage.showConfirm(message, renderFooter);\r\n};\r\nexport const alert = (message: JSXChildNode) => {\r\n  ensureInDocument();\r\n  return globalMessage.showAlert(message);\r\n};\r\n\r\ndeclare global {\r\n  namespace JSX {\r\n    interface IntrinsicElements {\r\n      \"fancy-dialog\": JSXAttributes<GlobalAttributes, FancyDialog>;\r\n    }\r\n  }\r\n}\r\n","import { create } from \"sheetly\";\nexport let text = \"dialog{border-width:var(--bs-border-width);border-radius:var(--bs-border-radius);border-color:var(--bs-border-color);box-shadow:var(--bs-box-shadow);--bs-modal-footer-gap:4px}.modal-root{min-width:240px;display:flex;flex-direction:column}.modal-content{flex-grow:1}\";\nexport const sheet = create(text, import.meta.url);\n","import { divide } from \"./math\";\r\n\r\nexport const delay = (ms: number) => new Promise<void>((resolve) => setTimeout(resolve, ms));\r\n\r\nconst secondMS = 1000;\r\nconst minuteMS = 60 * secondMS;\r\nconst hourMS = 60 * minuteMS;\r\nconst dayMS = 24 * hourMS;\r\nconst suffix = [\"d\", \"H\", \"m\", \"s\"];\r\nconst factors = [dayMS, hourMS, minuteMS, secondMS];\r\nexport const duration = (time: number, now: number) => {\r\n  const duration = now - time;\r\n  let q = 0,\r\n    r = duration;\r\n  for (let i = 0; i < factors.length; i++) {\r\n    const factor = factors[i]!;\r\n    [q, r] = divide(r, factor);\r\n    if (q > 0) {\r\n      return `${q}${suffix[i]!}`;\r\n    }\r\n  }\r\n  return \"now\";\r\n};\r\n\r\nexport const getDateFromDatetimeLocal = (input: HTMLInputElement) => {\r\n  return new Date(input.value);\r\n};\r\n\r\nexport const setDateToDatetimeLocal = (input: HTMLInputElement, date: Date) => {\r\n  input.value = new Date(+date - date.getTimezoneOffset() * minuteMS).toISOString().slice(0, -5);\r\n};\r\n\r\nexport const getNow = () => new Date(Date.now());\r\n\r\nconst releaseDate = new Date();\r\nreleaseDate.setFullYear(2017);\r\nreleaseDate.setMonth(3);\r\nreleaseDate.setDate(9);\r\n/**\r\n * Arcaea\r\n */\r\nexport const arcaeaReleaseTS = +releaseDate;\r\n","export const inferRange = (value: number, digit: number, round: boolean): [number, number] => {\r\n  const int = Math.floor(value * 10 ** digit);\r\n  const padded = int * 10;\r\n  const base = 10 ** (digit + 1);\r\n  const min = padded - (round ? 5 : 0),\r\n    max = padded + (round ? 5 : 9);\r\n  return [min / base, max / base];\r\n};\r\n\r\nexport const isInt = Number.isInteger;\r\n\r\nexport const divide = (a: number, b: number) => {\r\n  const quotient = Math.floor(a / b);\r\n  const remainder = a - quotient * b;\r\n  return [quotient, remainder] as const;\r\n};\r\n\r\nexport const sum = (arr: number[]) => arr.reduce((s, curr) => s + curr, 0);\r\n\r\nexport const truncate = (num: number, digit: number) => {\r\n  const zoom = 10 ** digit;\r\n  const integer = Math.floor(num * zoom);\r\n  return (integer / zoom).toFixed(digit);\r\n};\r\n","import { PromiseOr } from \"./misc\";\r\n\r\nexport type DataMigration = (db: IDBDatabase) => PromiseOr<void>;\r\n\r\nexport type VersionMigrate = (db: IDBDatabase, migrate: (apply: DataMigration) => void) => void;\r\n\r\nexport class DBVersionManager {\r\n  #versions = new Map<number, VersionMigrate>();\r\n  version(version: number, migrate: VersionMigrate) {\r\n    this.#versions.set(version, migrate);\r\n    return this;\r\n  }\r\n\r\n  async open(name: string, version: number): Promise<IDBDatabase> {\r\n    let oldVersion = 0,\r\n      newVersion = version;\r\n    let db: IDBDatabase | null = null;\r\n    const dbs = (await indexedDB.databases?.()) ?? [];\r\n    const targetDB = dbs.find((db) => db.name === name);\r\n    oldVersion = targetDB?.version ?? 0;\r\n    if (!oldVersion) {\r\n      // Firefox indexedDB.databses\r\n      return openDB(name, version, (event, request) => {\r\n        const db = request.result;\r\n        const { oldVersion, newVersion } = event;\r\n        if (newVersion == null) throw new Error(`Unexpected Error: DB ${name} is being deleted.`);\r\n        const upgradeRange = this.#getUpgradeRange(oldVersion, newVersion);\r\n        for (const [, upgrade] of upgradeRange) {\r\n          upgrade(db, () => {\r\n            // FirefoxindexedDB.databases\r\n          });\r\n        }\r\n      });\r\n    }\r\n    const upgradeRange = this.#getUpgradeRange(oldVersion, newVersion);\r\n    let currentVersion = oldVersion;\r\n    for (const [nextVersion, upgrade] of upgradeRange) {\r\n      let migrations: DataMigration[] = [];\r\n      db?.close();\r\n      const currentDB = await openDB(name, nextVersion, (event, request) => {\r\n        const { oldVersion, newVersion } = event;\r\n        if (newVersion == null) throw new Error(`Unexpected Error: DB ${name} is being deleted.`);\r\n        console.assert(oldVersion === currentVersion, `old version does not match: ${oldVersion} != ${currentVersion}`);\r\n        console.assert(newVersion === nextVersion, `new version does not match: ${newVersion} != ${nextVersion}`);\r\n        const db = request.result;\r\n        upgrade(db, (apply) => {\r\n          migrations.push(apply);\r\n        });\r\n      });\r\n      if (migrations.length) {\r\n        console.debug(`Migrating data of ${name} from v${currentVersion} to v${nextVersion}...`);\r\n        await Promise.all(migrations.map((migrate) => migrate(currentDB)));\r\n      }\r\n      db = currentDB;\r\n      currentVersion = nextVersion;\r\n    }\r\n\r\n    if (!db) {\r\n      throw new Error(`Version ${version} of database \"${name}\" not defined.`);\r\n    }\r\n    return db;\r\n  }\r\n\r\n  #getUpgradeRange(oldVersion: number, newVersion: number) {\r\n    return [...this.#versions.entries()]\r\n      .filter(([version]) => oldVersion <= version && version <= newVersion)\r\n      .sort(([a], [b]) => a - b);\r\n  }\r\n}\r\n\r\nexport const openDB = (\r\n  name: string,\r\n  version: number,\r\n  onupgradeneeded: (event: IDBVersionChangeEvent, request: IDBOpenDBRequest) => void\r\n) =>\r\n  new Promise<IDBDatabase>((resolve, reject) => {\r\n    const openRequest = indexedDB.open(name, version);\r\n    openRequest.onerror = reject;\r\n    openRequest.onupgradeneeded = (event) => {\r\n      if (!(event instanceof IDBVersionChangeEvent)) {\r\n        return;\r\n      }\r\n      onupgradeneeded(event, openRequest);\r\n    };\r\n    openRequest.onsuccess = () => {\r\n      resolve(openRequest.result);\r\n    };\r\n  });\r\n\r\nexport const prefixWith = (prefix: string) => {\r\n  const upperBound = prefix.slice(0, -1) + String.fromCharCode(prefix.at(-1)!.charCodeAt(0));\r\n  return IDBKeyRange.bound(prefix, upperBound, false, true);\r\n};\r\n\r\nexport interface IDBOptions {\r\n  emitError?: boolean;\r\n}\r\n\r\nexport const requestToPromise = <T>(query: IDBRequest<T>, options?: IDBOptions) =>\r\n  new Promise<T | null>((resolve, reject) => {\r\n    query.onsuccess = () => {\r\n      resolve(query.result);\r\n    };\r\n    query.onerror = (e) => {\r\n      console.error(e);\r\n      if (options?.emitError) {\r\n        reject(e);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    };\r\n  });\r\n\r\nexport const transactionToPromise = (transaction: IDBTransaction, options?: IDBOptions) =>\r\n  new Promise<void>((resolve, reject) => {\r\n    transaction.onerror = reject;\r\n    transaction.onabort = reject;\r\n    transaction.oncomplete = () => resolve();\r\n  });\r\n\r\nexport interface DBStore {\r\n  db: IDBDatabase;\r\n  store: string;\r\n}\r\n\r\nexport const moveData = async (from: DBStore, to: DBStore) => {\r\n  const oldObjects = await requestToPromise(from.db.transaction([from.store]).objectStore(from.store).getAll());\r\n  if (oldObjects) {\r\n    const transaction = to.db.transaction([to.store], \"readwrite\");\r\n    const store = transaction.objectStore(to.store);\r\n    for (const old of oldObjects) {\r\n      store.put(old);\r\n    }\r\n    await transactionToPromise(transaction);\r\n  }\r\n};\r\n\r\nexport const dropDatabase = (name: string) => requestToPromise(indexedDB.deleteDatabase(name), { emitError: true });\r\n","export const clone = <T>(json: T): T => JSON.parse(JSON.stringify(json));\r\n\r\nexport const once = <T>(factory: () => T) => {\r\n  let value: T | null = null;\r\n  return (): T => (value ??= factory());\r\n};\r\n\r\nexport const isString = (value: unknown): value is string => typeof value === \"string\";\r\n\r\nexport const jsonModule = <T>(imports: Promise<{ default: T }>): Promise<T> =>\r\n  // @ts-expect-error parcel json module is using common js and module.exports = JSON.parse(...)\r\n  imports;\r\n\r\nexport const esModule = jsonModule;\r\n\r\nexport type PromiseOr<T> = T | Promise<T>;\r\n","let load = require('./helpers/browser/esm-js-loader');\nmodule.exports = (load(\"bvw0X\")).then(() => parcelRequire('1HilM'));","\"use strict\";\n\nfunction load(id) {\n  // eslint-disable-next-line no-undef\n  return __parcel__import__(require('../bundle-manifest').resolve(id));\n}\nmodule.exports = load;","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(\"sql-wasm.4092f33b.wasm\").toString();","let load = require('./helpers/browser/esm-js-loader');\nmodule.exports = (load(\"cOG01\")).then(() => parcelRequire('fVcic'));","export interface CharacterFactors {\r\n  frag: number;\r\n  step: number;\r\n  over: number;\r\n}\r\n\r\n/**\r\n * \r\n */\r\n\r\nexport interface CharacterData {\r\n  id: number;\r\n  name: {\r\n    zh: string;\r\n    en: string;\r\n  };\r\n  can?: {\r\n    awake?: boolean;\r\n    lost?: boolean;\r\n  };\r\n  levels: { [level: number]: CharacterFactors | undefined | null };\r\n}\r\n\r\nexport enum CharacterStatus {\r\n  Initial = \"\",\r\n  Awaken = \"u\",\r\n  /**\r\n   * \r\n   */\r\n  Lost = \"l\",\r\n}\r\n\r\nexport interface CharacterIndex {\r\n  [characterId: number]: CharacterData;\r\n}\r\n\r\nexport enum CharacterImageKind {\r\n  /**\r\n   * \r\n   */\r\n  Icon,\r\n  /**\r\n   * \r\n   */\r\n  Full,\r\n}\r\n\r\nexport interface CharacterImage {\r\n  /**\r\n   * -1\r\n   */\r\n  id: number;\r\n  status: CharacterStatus;\r\n  kind: CharacterImageKind;\r\n}\r\n\r\nexport interface CharacterInstanceData {\r\n  id: number;\r\n  level: number;\r\n  exp: number;\r\n  factors: CharacterFactors;\r\n}\r\n","export const protocol = \"arcaea-toolbelt:\";\r\n\r\nexport const toolbelt = {\r\n  data: (path: string) => new URL(path, `${protocol}//data/`),\r\n  assets: (path: string) => new URL(path, `${protocol}//assets/`),\r\n};\r\n\r\n/**\r\n * Arcaea Toolbelt\r\n * GitHub Pagesmaxage600\r\n * indexedDB\r\n * meta.jsonmetahash\r\n */\r\nexport interface ToolbeltCoreData {\r\n  /**\r\n   * \r\n   */\r\n  path: string;\r\n  /**\r\n   * \r\n   */\r\n  hash: string;\r\n  /**\r\n   * \r\n   */\r\n  content: any;\r\n}\r\n","import { Injectable } from \"classic-di\";\r\nimport { $AssetsResolver, AssetsResolver } from \"./declarations\";\r\nimport { Chart, Song, ClearRank, Grade, difficultyIndexes } from \"../models/music-play\";\r\nimport { CharacterImage, CharacterImageKind, CharacterStatus } from \"../models/character\";\r\nimport { toolbelt } from \"../models/data\";\r\n\r\n@Injectable({\r\n  implements: $AssetsResolver,\r\n})\r\nexport class AssetsResolverImpl implements AssetsResolver {\r\n  resolve(path: string): URL {\r\n    return toolbelt.assets(path);\r\n  }\r\n\r\n  resoveCharacterImage({ id, status, kind }: CharacterImage): URL {\r\n    if (id === -1) {\r\n      switch (kind) {\r\n        case CharacterImageKind.Icon:\r\n          return this.resolve(`char/unknown_icon.png`);\r\n        case CharacterImageKind.Full:\r\n        default:\r\n          return this.resolve(`char/-1_mp.png`);\r\n      }\r\n    }\r\n    //  & \r\n    if (id === 5) status = CharacterStatus.Initial;\r\n    switch (kind) {\r\n      case CharacterImageKind.Icon: {\r\n        return this.resolve(`char/${id}${status}_icon.png`);\r\n      }\r\n      case CharacterImageKind.Full:\r\n      default: {\r\n        return this.resolve(`char/1080/${id}${status}.png`);\r\n      }\r\n    }\r\n  }\r\n\r\n  resolvePotentialBadge(level: number): URL {\r\n    return this.resolve(`img/rating_${level >= 0 ? level : \"off\"}.png`);\r\n  }\r\n\r\n  resolveCover(chart: Chart, song: Song, hd: boolean): URL {\r\n    const folder = !song.dl ? song.id : `dl_${song.id}`;\r\n    const base = `songs/${folder}`;\r\n    const suffix = hd ? \".jpg\" : \"_256.jpg\";\r\n    const version = chart.override?.cover ? `${difficultyIndexes[chart.difficulty]}` : \"base\";\r\n    const possible = [\"\", \"1080_\"].map((prefix) => `${prefix}${version}${suffix}`);\r\n    const file = song.covers.find((cover) => possible.includes(cover));\r\n    const path = `${base}/${file}`;\r\n    return this.resolve(path);\r\n  }\r\n  resolveUnknownCover(): URL {\r\n    return this.resolve(\"img/song_jacket_back_colorless.png\");\r\n  }\r\n  resolveClearImg(clearType: ClearRank): URL {\r\n    return this.resolve(`img/clear_type/${this.#getClearAssetsImgName(clearType)}.png`);\r\n  }\r\n  resolveGradeImg(scoreRank: Grade): URL {\r\n    return this.resolve(`img/grade/mini/${this.#getGradeAssetsImgName(scoreRank)}.png`);\r\n  }\r\n\r\n  #getClearAssetsImgName(clearType: ClearRank) {\r\n    switch (clearType) {\r\n      case ClearRank.EasyClear:\r\n        return \"easy\";\r\n      case ClearRank.TrackLost:\r\n        return \"fail\";\r\n      case ClearRank.FullRecall:\r\n        return \"full\";\r\n      case ClearRank.HardClear:\r\n        return \"hard\";\r\n      case ClearRank.PureMemory:\r\n      case ClearRank.Maximum:\r\n        return \"pure\";\r\n      case ClearRank.NormalClear:\r\n      default:\r\n        return \"normal\";\r\n    }\r\n  }\r\n  #getGradeAssetsImgName(grade: Grade) {\r\n    return grade.replace(\"+\", \"plus\").toLowerCase();\r\n  }\r\n}\r\n","import { Injectable } from \"classic-di\";\r\nimport { $Database, $PreferenceService, AppDatabaseContext, Preference, PreferenceService } from \"./declarations\";\r\nimport type { Signal } from \"hyplate/types\";\r\nimport { computed, signal } from \"hyplate\";\r\nimport { clone } from \"../utils/misc\";\r\nimport { requestToPromise, transactionToPromise } from \"../utils/indexed-db\";\r\nimport { getUserTheme } from \"../utils/theme\";\r\n\r\nconst defaultPreference: Preference = {\r\n  // \r\n  theme: getUserTheme(),\r\n  // \r\n  ghproxy: true,\r\n  showMaxMinus: false,\r\n};\r\n\r\ninterface PreferenceConfig {\r\n  key: string;\r\n  value: any;\r\n}\r\n\r\ntype PreferenceKey = keyof Preference;\r\n\r\n@Injectable({\r\n  implements: $PreferenceService,\r\n  requires: [$Database]\r\n})\r\nexport class PreferenceServiceImpl implements PreferenceService {\r\n  #preference = signal<Preference>(clone(defaultPreference));\r\n  #computed: { [K in PreferenceKey]?: Signal<Preference[K]> } = {};\r\n  constructor(private readonly database: AppDatabaseContext) {\r\n    this.get().then((latest) => this.#notify(latest));\r\n  }\r\n\r\n  async get(): Promise<Preference> {\r\n    const db = await this.database.getDB();\r\n    const configStore = this.database.preference;\r\n    const stored =\r\n      (await requestToPromise<PreferenceConfig[]>(db.transaction([configStore]).objectStore(configStore).getAll())) ??\r\n      [];\r\n    const partialConfig = Object.fromEntries(stored.map(({ key, value }) => [key, value]));\r\n    return {\r\n      ...defaultPreference,\r\n      ...partialConfig,\r\n    };\r\n  }\r\n\r\n  async update(patch: Partial<Preference>): Promise<void> {\r\n    const current = await this.get();\r\n    const newPreference = {\r\n      ...current,\r\n      ...patch,\r\n    };\r\n    const db = await this.database.getDB();\r\n    const configStore = this.database.preference;\r\n    const transaction = db.transaction([configStore], \"readwrite\");\r\n    const store = transaction.objectStore(configStore);\r\n    for (const key in patch) {\r\n      const value = Reflect.get(patch, key);\r\n      const config: PreferenceConfig = { key, value };\r\n      store.put(config);\r\n    }\r\n    await transactionToPromise(transaction);\r\n    this.#notify(newPreference);\r\n  }\r\n\r\n  signal<K extends keyof Preference>(name: K): Signal<Preference[K]> {\r\n    // @ts-expect-error key access does not match value\r\n    const signal = (this.#computed[name] ??= computed(() => this.#preference()[name]));\r\n    return signal;\r\n  }\r\n\r\n  #notify(latest: Preference) {\r\n    this.#preference.set(latest);\r\n  }\r\n}\r\n","import { ColorTheme } from \"../services/declarations\";\r\n\r\nexport const getUserTheme = (): ColorTheme =>\r\n  window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\r\n","import { Injectable } from \"classic-di\";\r\nimport { $Database, AppDatabaseContext } from \"./declarations\";\r\nimport { DBVersionManager } from \"../utils/indexed-db\";\r\nimport { once } from \"../utils/misc\";\r\n\r\n@Injectable({\r\n  implements: $Database,\r\n})\r\nexport class ArcaeaToolbeltDatabaseContext implements AppDatabaseContext {\r\n  caches: string = \"caches\";\r\n  preference: string = \"preference\";\r\n  profiles: string = \"profiles\";\r\n  core: string = \"core\";\r\n  files: string = \"files\";\r\n\r\n  getDB = once(() => this.#create());\r\n  async transaction(stores: string[], mode?: IDBTransactionMode | undefined): Promise<IDBTransaction> {\r\n    const db = await this.getDB();\r\n    return db.transaction(stores, mode);\r\n  }\r\n  async objectStore(store: string, mode?: IDBTransactionMode | undefined): Promise<IDBObjectStore> {\r\n    const transaction = await this.transaction([store], mode);\r\n    return transaction.objectStore(store);\r\n  }\r\n\r\n  #create() {\r\n    const manager = new DBVersionManager()\r\n      .version(1, (db) => {\r\n        db.createObjectStore(this.caches, { keyPath: \"url\" });\r\n        db.createObjectStore(this.preference, { keyPath: \"key\" });\r\n        db.createObjectStore(this.profiles, { keyPath: \"username\" });\r\n      })\r\n      .version(2, (db) => {\r\n        db.createObjectStore(this.core, { keyPath: \"path\" });\r\n      })\r\n      .version(3, (db) => {\r\n        db.createObjectStore(this.files, { keyPath: \"url\" });\r\n      });\r\n    return manager.open(\"arcaea-toolbelt\", 3);\r\n  }\r\n}\r\n","import { Injectable } from \"classic-di\";\r\nimport { protocol } from \"../models/data\";\r\nimport { PromiseOr } from \"../utils/misc\";\r\nimport { $Gateway, $PreferenceService, Gateway, PreferenceService } from \"./declarations\";\r\nimport { subscribe } from \"hyplate\";\r\n\r\nconst assetsBase = \"https://moyoez.github.io/ArcaeaResource-ActionUpdater/arcaea/assets/\";\r\nconst assetsProxyBase =\r\n  \"https://mirror.ghproxy.com/raw.githubusercontent.com/MoYoez/ArcaeaResource-ActionUpdater/main/arcaea/assets/\";\r\nconst dataProxyBase =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? \"https://mirror.ghproxy.com/raw.githubusercontent.com/DarrenDanielDay/arcaea-toolbelt-data/main/src/data/\"\r\n    : process.env.ARCAEA_TOOLBELT_DATA;\r\n\r\ntype ProxyMapping = Record<string, string>;\r\n\r\nconst directGateway = {\r\n  \"//assets/\": assetsBase,\r\n  \"//data/\": process.env.ARCAEA_TOOLBELT_DATA,\r\n};\r\nconst proxyGateway: ProxyMapping = {\r\n  \"//assets/\": assetsProxyBase,\r\n  \"//data/\": dataProxyBase,\r\n};\r\n\r\n@Injectable({\r\n  implements: $Gateway,\r\n})\r\nexport class DirectGateway implements Gateway {\r\n  direct(url: URL): URL {\r\n    return this.map(url, directGateway);\r\n  }\r\n\r\n  proxy(url: URL): URL {\r\n    return this.map(url, proxyGateway);\r\n  }\r\n\r\n  dynamicProxy(url: URL): PromiseOr<URL> {\r\n    return this.map(url, directGateway);\r\n  }\r\n\r\n  protected map(url: URL, mapping: ProxyMapping): URL {\r\n    if (url.protocol === protocol) {\r\n      return this.proxyCustomProtocol(url, mapping);\r\n    }\r\n    return url;\r\n  }\r\n\r\n  protected proxyCustomProtocol(url: URL, mapping: ProxyMapping) {\r\n    const pathname = url.toString().slice(protocol.length);\r\n    const pair = Object.entries(mapping).find(([key]) => pathname.startsWith(key));\r\n    if (pair) {\r\n      const [prefix, base] = pair;\r\n      const baseURL = base.startsWith(\"/\") ? new URL(base, process.env.BASE_URI) : base;\r\n      return new URL(pathname.slice(prefix.length), baseURL);\r\n    }\r\n    throw new Error(`Unknown path: ${pathname}`);\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  implements: $Gateway,\r\n  requires: [$PreferenceService],\r\n})\r\nexport class ProxyGateway extends DirectGateway {\r\n  protected ghproxy = false;\r\n\r\n  constructor(private readonly preference: PreferenceService) {\r\n    super();\r\n    subscribe(preference.signal(\"ghproxy\"), (value) => {\r\n      this.ghproxy = value;\r\n    });\r\n  }\r\n\r\n  override proxy(url: URL): URL {\r\n    return this.map(url, this.ghproxy ? proxyGateway : directGateway);\r\n  }\r\n\r\n  override async dynamicProxy(url: URL): Promise<URL> {\r\n    const { ghproxy } = await this.preference.get();\r\n    this.ghproxy = ghproxy;\r\n    return this.proxy(url);\r\n  }\r\n}\r\n","import { PromiseOr } from \"./misc\";\r\n\r\nexport interface DataProvider<P extends readonly any[], T> {\r\n  key(...args: P): string;\r\n  alloc(...args: P): Promise<T>;\r\n  clone?(result: T, args: P): T;\r\n  free?(data: T): PromiseOr<void>;\r\n}\r\n\r\nexport class MemoryCache<P extends readonly any[], T> {\r\n  #cache = new Map<string, T>();\r\n  #pending = new Map<string, Promise<T>>();\r\n\r\n  constructor(private readonly provider: DataProvider<P, T>) {}\r\n\r\n  async get(...args: P): Promise<T> {\r\n    const cache = this.#cache;\r\n    const key = this.provider.key(...args);\r\n    const cached = cache.get(key);\r\n    if (cached) return cached;\r\n    let pending = this.#pending.get(key);\r\n    if (pending != null) {\r\n      return this.complete(pending, args, key);\r\n    }\r\n    try {\r\n      pending = this.provider.alloc(...args);\r\n      this.#pending.set(key, pending);\r\n      const data = await pending;\r\n      return this.complete(data, args, key);\r\n    } finally {\r\n      this.#pending.delete(key);\r\n    }\r\n  }\r\n\r\n  async delete(...args: P) {\r\n    const cache = this.#cache;\r\n    const key = this.provider.key(...args);\r\n    const cached = cache.get(key);\r\n    if (cached) {\r\n      await this.provider.free?.(cached);\r\n      cache.delete(key);\r\n    }\r\n  }\r\n\r\n  async clear() {\r\n    const cache = this.#cache;\r\n    for (const key of [...cache.keys()]) {\r\n      const cached = cache.get(key)!;\r\n      await this.provider.free?.(cached);\r\n      cache.delete(key);\r\n    }\r\n  }\r\n\r\n  async complete(promise: PromiseOr<T>, args: P, key: string) {\r\n    const data = await promise;\r\n    this.#cache.set(key, data);\r\n    return this.provider.clone?.(data, args) ?? data;\r\n  }\r\n}\r\n","import { Injectable } from \"classic-di\";\r\nimport { $CoreDataProvider, $CoreDataService, CoreDataProvider, CoreDataService } from \"./declarations\";\r\nimport { SongData } from \"../models/music-play\";\r\nimport { CharacterData } from \"../models/character\";\r\nimport {\r\n  characterData,\r\n  chartData,\r\n  itemsData,\r\n  meta,\r\n  packList,\r\n  songList,\r\n  worldMapsEvents,\r\n  worldMapsLongterm,\r\n} from \"../data/file-list\";\r\nimport { ChapterData, ItemData, NormalWorldMapData } from \"../models/world-mode\";\r\nimport { ArcaeaToolbeltMeta } from \"../models/misc\";\r\n\r\n@Injectable({\r\n  requires: [$CoreDataProvider] as const,\r\n  implements: $CoreDataService,\r\n})\r\nexport class CoreDataServiceImpl implements CoreDataService {\r\n  constructor(private readonly provider: CoreDataProvider) {}\r\n\r\n  protected fetch<T>(path: string): Promise<T> {\r\n    return this.provider.get(path);\r\n  }\r\n\r\n  getSongList(): Promise<any> {\r\n    return this.fetch(songList);\r\n  }\r\n  getPackList(): Promise<any> {\r\n    return this.fetch(packList);\r\n  }\r\n\r\n  getMetaData(): Promise<ArcaeaToolbeltMeta> {\r\n    return this.fetch(meta);\r\n  }\r\n\r\n  getChartData(): Promise<SongData[]> {\r\n    return this.fetch(chartData);\r\n  }\r\n\r\n  getCharacterData(): Promise<CharacterData[]> {\r\n    return this.fetch(characterData);\r\n  }\r\n\r\n  getItemsData(): Promise<ItemData[]> {\r\n    return this.fetch(itemsData);\r\n  }\r\n\r\n  getWorldMapLongTerm(): Promise<ChapterData[]> {\r\n    return this.fetch(worldMapsLongterm);\r\n  }\r\n\r\n  getWorldMapEvents(): Promise<NormalWorldMapData[]> {\r\n    return this.fetch(worldMapsEvents);\r\n  }\r\n}\r\n","export const alias = \"alias.json\";\r\nexport const assetsInfo = \"assets-info.json\";\r\nexport const characterData = \"character-data.json\";\r\nexport const characters = \"characters.json\";\r\nexport const chartData = \"chart-data.json\";\r\nexport const itemsData = \"item-data.json\";\r\nexport const meta = \"meta.json\";\r\nexport const notesAndConstants = \"notes-and-constants.json\";\r\nexport const packList = \"packlist.json\";\r\nexport const songList = \"songlist.json\";\r\nexport const worldMapsEvents = \"world-maps-events.json\";\r\nexport const worldMapsLongterm = \"world-maps-longterm.json\";\r\n","import { Injectable } from \"classic-di\";\r\nimport { $CoreDataProvider, $Database, $Gateway, AppDatabaseContext, CoreDataProvider, Gateway } from \"./declarations\";\r\nimport { DataProvider, MemoryCache } from \"../utils/memory-cache\";\r\nimport { ArcaeaToolbeltMeta } from \"../models/misc\";\r\nimport { ToolbeltCoreData, toolbelt } from \"../models/data\";\r\nimport { meta } from \"../data/file-list\";\r\nimport { requestToPromise } from \"../utils/indexed-db\";\r\n\r\n@Injectable({\r\n  requires: [$Database, $Gateway] as const,\r\n  implements: $CoreDataProvider,\r\n})\r\nexport class CoreDataProviderImpl implements CoreDataProvider, DataProvider<[path: string], any> {\r\n  #memoryCache = new MemoryCache<[string], any>(this);\r\n  #metaCache = new MemoryCache<[], ArcaeaToolbeltMeta>({\r\n    key: () => \"meta\",\r\n    alloc: async () => await this.fetchJSON(toolbelt.data(meta)),\r\n  });\r\n\r\n  constructor(private readonly database: AppDatabaseContext, private readonly gateway: Gateway) {}\r\n  key(path: string): string {\r\n    return path;\r\n  }\r\n  async alloc(path: string): Promise<any> {\r\n    const meta = await this.getMeta();\r\n    const item = meta.index.find((item) => item.file === path);\r\n    if (!item) {\r\n      throw new Error(`Cannot resolve data file ${path}.`);\r\n    }\r\n    let store = await this.database.objectStore(this.database.core, \"readwrite\");\r\n    const cache = await requestToPromise<ToolbeltCoreData>(store.get(path));\r\n    if (cache?.hash === item.hash) {\r\n      return cache.content;\r\n    }\r\n    const fetched = await this.fetchJSON(toolbelt.data(path));\r\n    // check hash?\r\n    const newData: ToolbeltCoreData = {\r\n      hash: item.hash,\r\n      path,\r\n      content: fetched,\r\n    };\r\n    store = await this.database.objectStore(this.database.core, \"readwrite\");\r\n    await requestToPromise(store.put(newData));\r\n    return fetched;\r\n  }\r\n\r\n  async get<T>(path: string): Promise<T> {\r\n    if (path === meta) return (await this.getMeta()) as T;\r\n    return this.#memoryCache.get(path);\r\n  }\r\n\r\n  protected async getMeta() {\r\n    return this.#metaCache.get();\r\n  }\r\n\r\n  protected async fetchJSON(url: URL) {\r\n    const response = await this.tryFetch(url);\r\n    return response.json();\r\n  }\r\n\r\n  protected async tryFetch(url: URL) {\r\n    try {\r\n      const dist = await this.gateway.dynamicProxy(url);\r\n      const response = await fetch(dist);\r\n      if (!response.ok) throw new Error(`Failed to request proxy ${dist}`);\r\n      return response;\r\n    } catch (error) {\r\n      console.error(error);\r\n      return await fetch(this.gateway.direct(url));\r\n    }\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"index.ac67e09c.js.map"}